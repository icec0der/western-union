window.Granite=window.Granite||{};
Granite.Sling={SELECTOR_INFINITY:".infinity",CHARSET:"_charset_",STATUS:":status",STATUS_BROWSER:"browser",OPERATION:":operation",OPERATION_DELETE:"delete",OPERATION_MOVE:"move",DELETE_SUFFIX:"@Delete",TYPEHINT_SUFFIX:"@TypeHint",COPY_SUFFIX:"@CopyFrom",MOVE_SUFFIX:"@MoveFrom",ORDER:":order",REPLACE:":replace",DESTINATION:":dest",SAVE_PARAM_PREFIX:":saveParamPrefix",IGNORE_PARAM:":ignore",REQUEST_LOGIN_PARAM:"sling:authRequestLogin",LOGIN_URL:"/system/sling/login.html",LOGOUT_URL:"/system/sling/logout.html"};
(function(k,l){k.Util=function(){var k={patchText:function(b,c){if(c)if(l.isArray(c))for(var e=0;e<c.length;e++)b=b.replace("{"+e+"}",c[e]);else b=b.replace("{0}",c);return b},getTopWindow:function(){var b=window;if(this.iFrameTopWindow)return this.iFrameTopWindow;try{for(;b.parent&&b!==b.parent&&b.parent.location.href;)b=b.parent}catch(c){}return b},setIFrameMode:function(b){this.iFrameTopWindow=b||window},applyDefaults:function(){for(var b,c=arguments[0]||{},e=1;e<arguments.length;e++){b=arguments[e];
for(var g in b){var f=b[g];b.hasOwnProperty(g)&&void 0!==f&&(c[g]=null===f||"object"!==typeof f||f instanceof Array?f instanceof Array?f.slice(0):f:k.applyDefaults(c[g],f))}}return c},getKeyCode:function(b){return b.keyCode?b.keyCode:b.which}};return k}()})(Granite,jQuery);
(function(k,l,n,b){k.HTTP=function(){var c=null,e=/^(?:http|https):\/\/[^\/]+(\/.*)\/(?:etc\.clientlibs|etc(\/.*)*\/clientlibs|libs(\/.*)*\/clientlibs|apps(\/.*)*\/clientlibs|etc\/designs).*\.js(\?.*)?$/,g=/[^\w-.~%:/?[\]@!$&'()*+,;=]/,f=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,m=!1,h={getSchemeAndAuthority:function(a){if(!a)return"";a=f.exec(a);return null===a?"":[a[1],a[3]].join("")},getContextPath:function(){return c},detectContextPath:function(){try{if(window.CQURLInfo)c=
CQURLInfo.contextPath||"";else{for(var a=document.getElementsByTagName("script"),d=0;d<a.length;d++){var b=e.exec(a[d].src);if(b){c=b[1];return}}c=""}}catch(q){}},externalize:function(a){try{0===a.indexOf("/")&&c&&0!==a.indexOf(c+"/")&&(a=c+a)}catch(d){}return a},internalize:function(a,d){if("/"===a.charAt(0))return c===a?"":c&&0===a.indexOf(c+"/")?a.substring(c.length):a;d||(d=document);d=h.getSchemeAndAuthority(d.location.href);var b=h.getSchemeAndAuthority(a);return d===b?a.substring(b.length+
(c?c.length:0)):a},getPath:function(a){if(a)a=h.removeParameters(a),a=h.removeAnchor(a);else{if(window.CQURLInfo&&CQURLInfo.requestPath)return CQURLInfo.requestPath;a=window.location.pathname}a=h.internalize(a);var d=a.indexOf(".",a.lastIndexOf("/"));-1!==d&&(a=a.substring(0,d));return a},removeAnchor:function(a){var d=a.indexOf("#");return 0<=d?a.substring(0,d):a},removeParameters:function(a){var d=a.indexOf("?");return 0<=d?a.substring(0,d):a},encodePathOfURI:function(a){for(var d=["?","#"],b=[a],
c,p=0,f=d.length;p<f;p++)if(c=d[p],0<=a.indexOf(c)){b=a.split(c);break}g.test(b[0])&&(b[0]=h.encodePath(b[0]));return b.join(c)},encodePath:function(a){a=encodeURI(a);a=a.replace(/%5B/g,"[").replace(/%5D/g,"]");a=a.replace(/\?/g,"%3F");return a=a.replace(/#/g,"%23")},handleLoginRedirect:function(){if(!m){m=!0;alert(k.I18n.get("Your request could not be completed because you have been signed out."));var a=l.getTopWindow().document.location;a.href=h.externalize(n.LOGIN_URL)+"?resource\x3d"+encodeURIComponent(a.pathname+
a.search+a.hash)}},getXhrHook:function(a,d,c){d=d||"GET";return window.G_XHR_HOOK&&b.isFunction(G_XHR_HOOK)?(a={url:a,method:d},c&&(a.params=c),G_XHR_HOOK(a)):null},eval:function(a){"object"!==typeof a&&(a=b.ajax({url:a,type:"get",async:!1}));try{return eval("("+(a.body?a.body:a.responseText)+")")}catch(d){}return null}};return h}()})(Granite,Granite.Util,Granite.Sling,jQuery);
(function(k,l,n,b,c){l.I18n=function(){var e={},g="/libs/cq/i18n/dict.",f=".json",m=void 0,h=!1,a=null,d={},l=!1,q=function(a){if(l)return g+a+f;var b=c("html").attr("data-i18n-dictionary-src");return b?b.replace("{locale}",encodeURIComponent(a)).replace("{+locale}",a):g+a+f};d.LOCALE_DEFAULT="en";d.PSEUDO_LANGUAGE="zz";d.PSEUDO_PATTERN_KEY="_pseudoPattern_";d.init=function(a){a=a||{};this.setLocale(a.locale);this.setUrlPrefix(a.urlPrefix);this.setUrlSuffix(a.urlSuffix)};d.setLocale=function(a){a&&
(m=a)};d.getLocale=function(){c.isFunction(m)&&(m=m());return m||k.documentElement.lang||d.LOCALE_DEFAULT};d.setUrlPrefix=function(a){a&&(g=a,l=!0)};d.setUrlSuffix=function(a){a&&(f=a,l=!0)};d.getDictionary=function(a){a=a||d.getLocale();if(!e[a]){h=0===a.indexOf(d.PSEUDO_LANGUAGE);try{var b=c.ajax(q(a),{async:!1,dataType:"json"});e[a]=c.parseJSON(b.responseText)}catch(t){}e[a]||(e[a]={})}return e[a]};d.get=function(a,b,c){var f,e,g;f=d.getDictionary();g=h?d.PSEUDO_PATTERN_KEY:c?a+" (("+c+"))":a;
f&&(e=f[g]);e||(e=a);h&&(e=e.replace("{string}",a).replace("{comment}",c?c:""));return n.patchText(e,b)};d.getVar=function(a,b){return a?d.get(a,null,b):null};d.getLanguages=function(){if(!a)try{var f=b.eval("/libs/wcm/core/resources/languages.overlay.infinity.json");c.each(f,function(a,b){b.title=d.getVar(b.language);b.title&&b.country&&"*"!==b.country&&(b.title+=" ("+d.getVar(b.country)+")")});a=f}catch(r){a={}}return a};d.parseLocale=function(a){if(!a)return null;var b=a.indexOf("_");0>b&&(b=a.indexOf("-"));
var c;0>b?(c=a,b=null):(c=a.substring(0,b),b=a.substring(b+1));return{code:a,language:c,country:b}};return d}()})(document,Granite,Granite.Util,Granite.HTTP,jQuery);
(function(k,l){k.TouchIndicator=new function(){var k={visibility:"hidden",position:"absolute",width:"30px",height:"30px","-webkit-border-radius":"20px","border-radius":"20px",border:"5px solid orange","-webkit-user-select":"none","user-select":"none",opacity:"0.5","z-index":"2000","pointer-events":"none"},b={},c=[];return{debugWithMouse:!1,init:function(){var b=this;l(document).on("touchstart.touchindicator touchmove.touchindicator touchend.touchindicator",function(c){b.update(c.originalEvent.touches);
return!0});if(this.debugWithMouse)l(document).on("mousemove.touchindicator",function(c){c.identifer="fake";b.update([c]);return!0})},update:function(e){for(var g={},f=0;f<e.length;f++){var m=e[f],h=m.identifier,a=b[h];a||(a=c.pop(),a||(a=l("\x3cdiv\x3e\x3c/div\x3e").css(k),l("body").append(a)));g[h]=a;a.offset({left:m.pageX-20,top:m.pageY-20});a.css("visibility","visible")}for(h in b)b.hasOwnProperty(h)&&!g[h]&&(a=b[h],a.css("visibility","hidden"),c.push(a));b=g}}}})(Granite,jQuery);
(function(k,l,n,b){k.OptOutUtil=function(){var c={},e=[],g=[];c.init=function(b){b&&(e=b.cookieNames?b.cookieNames:e,g=b.whitelistCookieNames?b.whitelistCookieNames:g)};c.getCookieNames=function(){return e};c.getWhitelistCookieNames=function(){return g};c.isOptedOut=function(){for(var f=document.cookie.split(";"),e=0;e<f.length;e++){var g=b.trim(f[e].split("\x3d")[0]);if(-1<b.inArray(g,c.getCookieNames()))return!0}return!1};c.maySetCookie=function(e){return!(c.isOptedOut()&&-1===b.inArray(e,c.getWhitelistCookieNames()))};
return c}()})(Granite,Granite.Util,Granite.HTTP,jQuery);Granite.OptOutUtil.init(window.GraniteOptOutConfig);Granite.HTTP.detectContextPath();