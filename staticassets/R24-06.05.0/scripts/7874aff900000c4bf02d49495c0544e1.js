window.getUrlParameter=(e=>{var n=window.location.search||window.location.hash,t=decodeURIComponent((new RegExp(`[?|&]${e}=([^&;]+?)(&|#|;|$)`).exec(n)||["",""])[1].replace(/\+/g,"%20"))||null;return t&&(t=t.trim()),t});var pathUrl="icons/src/assets/css/",iconsCSS=["icons.data.svg.min.css"];!function(e){function n(n,t,r,o){"use strict";var i=e.document.createElement("link"),a=t||e.document.getElementsByTagName("script")[0],s=e.document.styleSheets;return i.rel="stylesheet",i.href=n,i.onload=o||function(){},a.parentNode.insertBefore(i,a),function e(){for(var t,o=0;s.length>o;o++)s[o].href&&(s[o].href.indexOf(n[0])>-1||s[o].href.indexOf(n[1])>-1)&&(t=!0);t?i.media=r||"all":setTimeout(e)}(),i}var t=function(r,o){"use strict";if(r&&3===r.length){var i=e.navigator,a=e.Image,s=!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")||e.opera&&-1===i.userAgent.indexOf("Chrome")||-1!==i.userAgent.indexOf("Series40")),c=new a;c.onerror=function(){t.method="png",n(r[2])},c.onload=function(){var e=1===c.width&&1===c.height,i=r[e&&s?0:e?1:2];t.method=e&&s?"svg":e?"datapng":"png",t.href=i,n(i,null,null,o)},c.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",document.documentElement.className+=" grunticon"}};t.loadCSS=n,e.grunticon=t}(this),function(e,n){"use strict";var t=n.document,r=null,o=async function(e){return r=await async function(e=""){return(await fetch(e,{method:"GET",credentials:"include",mode:"no-cors"})).json()}(window.pageData.wuIconsJsonPath)},i=function(e){var n,t;return n=r||grunticon.getIcons(iconsCSS),t=Object.keys(n),e.filter(function(e){return t.indexOf("."+e)>-1&&"wu-icon"!=e})[0]},a=function(e,n,t){if(!e.getAttribute("data-wu-icon")){"none"===e.style.backgroundImage&&e.removeAttribute("style");var r=e.currentStyle?e.currentStyle.backgroundImage.match(/US\-ASCII\,([^"']+)/):window.getComputedStyle(e).backgroundImage.match(/US\-ASCII\,([^"']+)/),o=decodeURIComponent(r&&r[1]);"null"===o&&(o=decodeURIComponent(n));var i=(new DOMParser).parseFromString(o,"application/xml");e.appendChild(e.ownerDocument.importNode(i.documentElement,!0)),e.style.backgroundImage="none",e.removeAttribute("[data-grunticon-embed]"),e.setAttribute("data-wu-icon",e.classList[1])}};e.embedIcons=function(e){var n,r;n=t.querySelectorAll(r+"[data-grunticon-embed]");for(var o=0;n.length>o;o++)a(n[o],e[r],r);if(0===Object.keys(e).length)for(var i=document.querySelectorAll("[data-grunticon-embed]"),s=0;s<i.length;s++)a(i[s],void 0,void 0);return n},e.getIcons=o,e.ready=function(e){if(t.attachEvent?"complete"===t.readyState:"loading"!==t.readyState)e();else{var n=!1;t.addEventListener("readystatechange",function(){n||(n=!0,e())},!1)}},e.svgLoadedCallback=async function(){return r=await o()},e.updateIcon=function(e){var n,t;n=r||o(),t=i(Array.prototype.slice.call(e.classList)),a(e,n["."+t],t)},e.iconSet=r,e.getIcon=i}(grunticon,this);var ObserverCallback=function(e,n){var t=Array.prototype.slice.call(e.classList),r=t.indexOf("wu-icon"),o=t.indexOf(e.getAttribute("data-wu-icon"));if(r>-1&&0==e.childElementCount&&o<0||r>-1&&1==e.childElementCount&&"svg"==e.firstElementChild.tagName.toLowerCase()&&o<0)grunticon.getIcon(t)?grunticon.updateIcon(e):(e.innerHTML="",e.style.backgroundImage=null,e.removeAttribute("data-wu-icon"));else if(e.hasChildNodes()){var i=e.querySelectorAll(".wu-icon");i&&i.length>0&&Array.prototype.slice.call(i).forEach(function(e){var n=Array.prototype.slice.call(e.classList),t=e.getAttribute("data-wu-icon");(0==e.childElementCount||1==e.childElementCount&&"svg"==e.firstElementChild.tagName.toLowerCase()&&n.indexOf(t)<0)&&grunticon.updateIcon(e)})}};window.loadIcons=async function(e){await grunticon.svgLoadedCallback();const n=new IntersectionObserver(function(e,n){e.forEach(e=>{e.isIntersecting&&(ObserverCallback(e.target),n.unobserve(e.target))})},{root:null,threshold:1});for(var t=e.querySelectorAll(".wu-icon"),r=0;r<t.length;++r)n.observe(t[r])},window.loaded?loadIcons(document):window.addEventListener("load",function(){loadIcons(document)}),function(e,n){"use strict";var t=!1,r=!1,o="data-lazyload-mobile-src",i="data-lazyload-mobile-class",a="data-lazyload-desktop-src",s="data-lazyload-desktop-class",c="data-lazyload-mobile-desktop-src",l="data-lazyload-mobile-desktop-class",u={mobile:{show:!1,image:[].slice.call(n.querySelectorAll("["+o+"]")),bgImage:[].slice.call(n.querySelectorAll("["+i+"]"))},desktop:{show:!1,image:[].slice.call(n.querySelectorAll("["+a+"]")),bgImage:[].slice.call(n.querySelectorAll("["+s+"]"))},mobileDesktop:{show:!1,image:[].slice.call(n.querySelectorAll("["+c+"]")),bgImage:[].slice.call(n.querySelectorAll("["+l+"]"))}};function d(n,t){for(var r=0;r<u[n].image.length;){var o=u[n].image[r];"none"===getComputedStyle(o).display&&(o.style.display="inline"),o.getBoundingClientRect().top<=e.innerHeight&&o.getBoundingClientRect().bottom>0?(o.setAttribute("src",o.getAttribute(t)),u[n].image.splice(r,1)):r++}}function m(n,t){for(var r=0;r<u[n].bgImage.length;){var o=u[n].bgImage[r];o.getBoundingClientRect().top<=e.innerHeight&&o.getBoundingClientRect().bottom>0?(o.className+=" "+o.getAttribute(t),u[n].bgImage.splice(r,1)):r++}}function p(){t||(t=!0,setTimeout(function(){n.documentElement.clientWidth<=767?u.mobile.show||(d("mobile",o),m("mobile",i),0===u.mobile.image.length&&0===u.mobile.bgImage.length&&(u.mobile.show=!0)):u.desktop.show||(d("desktop",a),m("desktop",s),0===u.desktop.image.length&&0===u.desktop.bgImage.length&&(u.desktop.show=!0)),u.mobileDesktop.show||(d("mobileDesktop",c),m("mobileDesktop",l),0===u.mobileDesktop.image.length&&0===u.mobileDesktop.bgImage.length&&(u.mobileDesktop.show=!0));var y=n.documentElement.clientWidth<=767&&u.mobile.show||n.documentElement.clientWidth>767&&u.desktop.show;y&&u.mobileDesktop.show&&(e.removeEventListener("scroll",p),r=!0),!y&&r&&(e.addEventListener("scroll",p),r=!1),u.mobile.show&&u.desktop.show&&u.mobileDesktop.show&&e.removeEventListener("resize",p),t=!1},200))}e.addEventListener("scroll",p),e.addEventListener("resize",p),e.addEventListener("load",p)}(window,document);"use strict";var CloudPayIn={CC:"CreditCard",DC:"DebitCard",AC:"ACH",EB:"WUPay",IA:"iACH",CA:"AG",SF:"Sofort",AP:"AP",TR:"Trustly",SD:"IDEAL",PL:"POLI",PC:"Paramount",TG:"TapNGo",FP:"FPX",PF:"PartnerFunds",BA:"BankAccount",GP:"GooglePay",DI:"DebitCardInterChange",PA:"Plaid",PN:"PayNow"},CloudPayOut={MM:"AG",DB:"BA",ND:"ND",MB:"MT",DC:"WA",D2:"D2C",AG:"AG"},CloudPayOutCodeMapping={MM:"000",DB:"500",ND:"ND",MB:"600",DC:"800",D2:"200",AG:"000",AGMexico:"400"},AmerigoPayOut={DB:"bank_transfer",MM:"cash",DC:"mobile_money"},AmerigoPayIn={AG:"stage_and_pay",DC:"direct_debit",CC:"credit_card",CA:"stage_and_pay"},ChangeCountryCurrency={BA:"BAM",RU:"RUB",UY:"UYU",VE:"VEF",ST:"STD"},PayOutCodeNames={"000":"AG",600:"MT",500:"BA",800:"WA",200:"D2C","041":"AG",400:"AG",M10:"AG",M11:"AG",M12:"AG",M13:"AG",M14:"AG",M15:"AG",M16:"AG",M17:"AG",M18:"AG"},USAStates={AA:"Aa-US Military",AE:"Ae-US Military",AK:"Alaska",AL:"Alabama",AP:"Ap-US Military",AR:"Arkansas",AZ:"Arizona",CA:"California",CO:"Colorado",CT:"Connecticut",DC:"Dist Of Col",DE:"Delaware",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",IA:"Iowa",ID:"Idaho",IL:"Illinois",IN:"Indiana",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",MA:"Massachusetts",MD:"Maryland",ME:"Maine",MI:"Michigan",MN:"Minnesota",MO:"Missouri",MP:"Northern Mariana Islands",MS:"Mississippi",MT:"Montana",NC:"North Carolina",ND:"North Dakota",NE:"Nebraska",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NV:"Nevada",NY:"New York",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VA:"Virginia",VI:"Virgin Islands",VT:"Vermont",WA:"Washington",WI:"Wisconsin",WV:"West Virginia",WY:"Wyoming"},CanadaStates={AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland and Labrador",NS:"Nova Scotia",NT:"Northwest Territories",NU:"Nunavut",ON:"Ontario",PE:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",YT:"Yukon"};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach(function(n){_defineProperty(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _defineProperty(e,n,t){return(n=_toPropertyKey(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _toPropertyKey(e){var n=_toPrimitive(e,"string");return"symbol"==_typeof(n)?n:n+""}function _toPrimitive(e,n){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}var triggerPriceCatalog=function(e,n,t){try{var r={header_request:{version:"0.5",request_type:"PRICECATALOG"},sender:_objectSpread(_objectSpread({},WuAmerigoConfigs.isAmerigo()?{client:WuAmerigoConfigs.getClient("CA"===e.funds_in?"RETAIL":"DIGITAL"),channel:"WRET",funds_in:"*"}:{client:"WUCOM",channel:"WWEB",funds_in:e.funds_in||"*"}),{},{curr_iso3:e.currency.toUpperCase(),cty_iso2_ext:e.country.toUpperCase()},!e.receiveAmount&&{send_amount:e.sendAmount}),receiver:_objectSpread({curr_iso3:e.sendToCurrency.toUpperCase(),cty_iso2_ext:e.sendToCountry.toUpperCase(),cty_iso2:e.sendToCountry.toUpperCase()},e.receiveAmount&&{receive_amount:e.receiveAmount})},o=sessionStorage.getItem("serverSidePromoCampaignName")||sessionStorage.getItem("promoPricingCampaignNameUrlParam")||sessionStorage.getItem("promoPricingCampaignName");(o||e.subscriptionId)&&(r.campaign={campaign_name:o||void 0,subscriptionId:e.subscriptionId});var i=function(n,t){var r=n.find(function(e){return e.fund_out_mnem===t&&e.pay_groups[0]});if(r)return{fx:r.pay_groups[0].fx_rate,fee:r.pay_groups[0].gross_fee,receiveAmount:r.pay_groups[0].receive_amount,sendAmount:e.receiveAmount?r.pay_groups[0].send_amount:0,selectedFundsOut:r.fund_out_mnem,strike_fx_rate:r.pay_groups[0].strike_fx_rate,selectedFundsIn:r.pay_groups[0].fund_in,strike_fee:r.pay_groups[0].strike_gross_fee,strikeReceiveAmount:r.pay_groups[0].strike_fx_rate&&e.sendAmount&&r.pay_groups[0].strike_fx_rate*e.sendAmount};if(!r)for(var o=0;o<n.length;o++)if("800"===n[o].fund_out&&("MB"===t||"DC"===t)&&CloudPayOut[t]===PayOutCodeNames[n[o].fund_out])return{fx:n[o].pay_groups[0].fx_rate,fee:n[o].pay_groups[0].gross_fee,receiveAmount:n[o].pay_groups[0].receive_amount,sendAmount:e.receiveAmount?n[o].pay_groups[0].send_amount:0,selectedFundsOut:n[o].fund_out_mnem,strike_fx_rate:n[o].pay_groups[0].strike_fx_rate,selectedFundsIn:n[o].pay_groups[0].fund_in,strike_fee:n[o].pay_groups[0].strike_gross_fee,strikeReceiveAmount:n[o].pay_groups[0].strike_fx_rate&&e.sendAmount&&n[o].pay_groups[0].strike_fx_rate*e.sendAmount}},a=function(e,n,t){return t&&e.strike_fx_rate?e.strike_fx_rate&&n.sendAmount&&e.strike_fx_rate*n.sendAmount:e.fx_rate&&n.sendAmount&&e.fx_rate*n.sendAmount},s=getHttpRequestUrl(e.host,e.country.toLowerCase(),n);return{reqPayload:r,url:"".concat(s,"wuconnect/prices/catalog"),initApi:function(n){var r;if("".concat(s,"wuconnect/prices/catalog"),n.categories&&n.categories.length>0&&t)r=function(n,t){var r=n.find(function(e){return"bestfx"===e.type});if(r){var o=r.services.find(function(e){return e}),i=t.find(function(e){return e.service===o.pay_out});if(i){var s=i.pay_groups.find(function(e){return e.fund_in===o.pay_in});o.gross_fee=s.base_fee,o.strike_gross_fee=s.strike_gross_fee}if(o){var c=a(o,e,!1),l=a(o,e,!0);return{fx:o.fx_rate,strike_fx_rate:o.strike_fx_rate,selectedFundsOut:o.pay_out_mnem,selectedFundsIn:o.pay_in,strike_fee:o.strike_gross_fee,fee:o.gross_fee,receiveAmount:c,sendAmount:e.receiveAmount?i.pay_groups[0].send_amount:0,strikeReceiveAmount:l,payIn:o.pay_in,serviceCode:i.service}}}}(n.categories,n.services_groups);else if(n.services_groups&&n.services_groups.length>0){var o=n.services_groups;if(e.funds_in&&e.fund_out_mnem)(r=i(o,e.fund_out_mnem))||(r=i(o,"MM"));else{var c=o[0].pay_groups;c&&c[0]&&(r={fx:c[0].fx_rate,fee:c[0].gross_fee,receiveAmount:c[0].receive_amount,sendAmount:e.receiveAmount?c[0].send_amount:0,selectedFundsOut:o[0].fund_out_mnem})}}return r||{fx:null,fee:null,receiveAmount:0,sendAmount:0,strikeReceiveAmount:0,strike_fx_rate:0,strike_fee:0,payIn:null,serviceCode:null}}}}catch(e){console.warn("Error in catalog service",e)}},CookieService=function(){var e={},n=function(e){for(var n="".concat(e,"="),t=document.cookie.split(";"),r=0;r<t.length;r++){for(var o=t[r];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return""};return{getCookie:n,getParsedCookieValue:function(t){return e[t]=e[t]?e[t]:n(t),e[t]?JSON.parse(e[t]):void 0},setCookie:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:window.location.hostname,a=new Date;a.setTime(a.getTime()+24*t*60*60*1e3);var s=e+"="+n+";"+("expires="+a.toUTCString())+";path="+r+";";-1!==window.location.protocol.indexOf("https")&&(s+="secure;"),o&&(s+="domain="+i),document.cookie=s},setSessionCookie:function(e,n){document.cookie="".concat(e,"=").concat(n,"; path=/")},deleteCookie:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",t=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=new Date;o.setTime(o.getTime()-864e5);var i=e+"=;"+("expires="+o.toUTCString())+";path="+n+";";-1!==window.location.protocol.indexOf("https")&&(i+="secure;"),r&&(i+="domain="+t),document.cookie=i}}}(),triggerCountryList=function(e){try{var n={origination:e.country,language:e.language,lists:(r={name:"COUNTRY_LIST",type:"country"},o={name:"sender_country_list",type:"lang"},WuAmerigoConfigs.isAmerigo()&&"ar"===e.language?[r,o]:WuAmerigoConfigs.isAmerigo()?[o]:[r,o,{name:"TOP_COUNTRIES",type:"country"},{name:"COUNTRY_LIST_GCR",type:"country"}]),bashPath:"/".concat(e.country,"/").concat(e.language)},t=getHttpRequestUrl(e.host,e.country.toLowerCase());return{reqPayload:n,url:"".concat(t,"wuconnect/dcaas/list.optimus.json")}}catch(e){console.warn("Error in list optimus api",e)}var r,o};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var n=_toPrimitive(e,"string");return"symbol"==_typeof(n)?n:n+""}function _toPrimitive(e,n){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}var CountriesDropdown=_createClass(function e(n){if(_classCallCheck(this,e),!n)throw new Error("Place has required");if(this.place=n,!this.place.querySelector("[data-countries-dropdown-trigger-box]"))throw new Error("data-countries-dropdown-trigger-box has required");if(this.triggerBox=this.place.querySelector("[data-countries-dropdown-trigger-box]"),!this.place.querySelector("[data-countries-dropdown-trigger]"))throw new Error("data-countries-dropdown-trigger has required");if(this.trigger=this.place.querySelector("[data-countries-dropdown-trigger]"),!this.place.querySelector("[data-countries-dropdown-list]"))throw new Error("data-countries-dropdown-list has required");this.list=this.place.querySelector("[data-countries-dropdown-list]"),this.isOpen=!1,this.init()},[{key:"init",value:function(){var e=this;this.trigger.addEventListener("click",function(n){e.open()})}},{key:"open",value:function(){this.triggerBox.classList.add("d-none"),this.list.classList.remove("d-none")}}]);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createForOfIteratorHelper(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var n=_toPrimitive(e,"string");return"symbol"==_typeof(n)?n:n+""}function _toPrimitive(e,n){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}document.addEventListener("DOMContentLoaded",function(e){for(var n=document.querySelectorAll("[data-countries-dropdown-box]"),t=0;t<n.length;t++){var r=n[t];new CountriesDropdown(r)}});var FlagSelect=_createClass(function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this.parent=n.parent,this.section=n.parent.closest("section.overflow-hidden"),this.flag=this.parent.querySelector(".b-flag-select__flag"),this.value=this.parent.querySelector(".b-flag-select__value"),this.input=this.parent.querySelector(".b-flag-select__input"),this.arrow=this.parent.querySelector(".b-flag-select__arrow"),this.label=this.parent.querySelector(".b-flag-select__label"),this.list=this.parent.querySelector(".b-flag-select__list"),this.searchField=this.parent.querySelector(".b-flag-select__search-field"),this.isCountryRedirect=this.parent.hasAttribute("country-redirect"),this.selectedCountry=n.selectedCountry.code,this.countries=n.countries,this.optimusCountryList=n.optimusCountryList,this.listCreated=!1,this.item=null,this.index=0,this.data=[],this.countryList=n.countryList,this.indexOfFlagSelect=n.indexOfFlagSelect,this.topEntriesLength=n.topEntriesLength,this.selectedCountryCodeValue=n.selectedCountry,this.value.innerText=n.selectedCountry.value||"",this.defaultCountryExistsInFirstList=!0,this.initialCheckForCookie=!0,this.maxLength=this.parent.getAttribute("data-flag-name-length")?parseInt(this.parent.getAttribute("data-flag-name-length")):10,this.isDropDownOpen=!1,this.optionSelected,this.liselected,this.isFooterDropDown=n.isFooterDropDown,this.onPageLoadFlagSelect=!0},[{key:"init",value:function(){var e=this;this.listener(),this.countryListAlreadyAdded={},this.searchField.style.maxWidth=this.value.offsetWidth+"px";var n=this.countryList.slice(0,20);void 0===n.find(function(n){return n.value===e.selectedCountryCodeValue.value})&&this.selectedCountryCodeValue.value&&(this.defaultCountryExistsInFirstList=!1,n.push(this.selectedCountryCodeValue)),this.createList(!0,n)}},{key:"listener",value:function(){var e=this;this.parent&&this.parent.addEventListener("click",function(n){e.isDropDownOpen=n.target.classList&&n.target.classList.contains("active"),n.target.classList&&n.target.classList.contains("b-flag-select")&&(e.isDropDownOpen?e.close():e.clickHandler())}),this.flag&&this.flag.addEventListener("click",function(n){e.clickHandler()}),this.value&&this.value.addEventListener("click",function(n){e.clickHandler()}),this.arrow&&this.arrow.addEventListener("click",function(n){e.clickHandler()}),this.label&&this.label.addEventListener("click",function(n){e.clickHandler()}),window.addEventListener("click",function(n){n.target.classList&&n.target.classList.value&&-1===n.target.classList.value.indexOf("b-flag-select")&&e.close()}),this.input.addEventListener("change",function(n){e.close()}),this.searchField&&this.searchField.addEventListener("input",function(n){e.searchFilter(n.currentTarget.value)})}},{key:"searchFilter",value:function(e){Array.prototype.slice.call(this.item).forEach(function(n){var t=n.innerText.normalize("NFD").replace(/[\u0300-\u036f]/g,""),r=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"");!e||t&&e&&r&&(-1!==t.toLowerCase().indexOf(r.toLowerCase())||-1!==n.innerText.toLowerCase().indexOf(e.toLowerCase()))?(n.classList.remove("d-none"),n.classList.add("d-flex")):(n.classList.add("d-none"),n.classList.remove("d-flex"))})}},{key:"closeSearchFilter",value:function(){Array.prototype.slice.call(this.item).forEach(function(e){e.classList.remove("d-none"),e.classList.add("d-flex")})}},{key:"clickHandler",value:function(){!this.listCreated&&this.createList(),this.parent.classList.toggle("active"),this.toggleSearch(),this.searchField.focus()}},{key:"toggleSearch",value:function(){this.parent.classList.value&&-1===this.parent.classList.value.indexOf("active")?(this.value.classList.remove("d-none"),this.searchField.classList.add("d-none"),this.section&&this.section.classList.add("overflow-hidden")):(this.value.classList.add("d-none"),this.searchField.classList.remove("d-none"),this.section&&this.section.classList.remove("overflow-hidden"))}},{key:"close",value:function(){for(var e=0;e<document.querySelectorAll(".b-flag-select").length;e++)document.querySelectorAll(".b-flag-select")[e].classList.remove("active");this.toggleSearch()}},{key:"removeLiSelected",value:function(){this.liselected&&!this.defaultCountryExistsInFirstList&&(this.liselected.remove(),this.optionSelected.remove())}},{key:"setMultipleAttributes",value:function(e,n){for(var t in n)e.setAttribute(t,n[t])}},{key:"createList",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.countryList;this.removeLiSelected();var t,r=document.createDocumentFragment(),o=0,i=_createForOfIteratorHelper(n);try{for(i.s();!(t=i.n()).done;){var a=t.value,s=a.code,c=s.toLowerCase(),l=this.optimusCountryList&&this.optimusCountryList[c]?this.optimusCountryList[c]:a.value.trim();if(s&&l&&(l===this.value.innerText&&!this.defaultCountryExistsInFirstList||!this.countryListAlreadyAdded[l])){this.countryListAlreadyAdded[l]=!0;var u=document.createElement("li"),d={role:"option",id:"listboxFlagSelectList-".concat(this.indexOfFlagSelect,"-").concat(o),"data-flag-select-value":s,"data-flag-select-text":l};this.setMultipleAttributes(u,d),u.className="wuds-dropdown__item b-flag-select__item p-0 cursor-pointer white-space-nowrap d-flex align-items-center pad-xs-horz";var m=document.createElement("div");m.className="wuds-dropdown__item__text bdr-clr-idel w-100";var p=document.createElement("i");p.className="wu-flag ".concat(c," flag__1x1 bdr-clr-idel bdr-thin-all bdr-radius-cir wu-flag__spacing-scale-md wu-input--icon__left  bkg-size-contain");var y=document.createElement("span");y.className="b-flag-select__text w-100 overflow-hidden font-body-sm",y.setAttribute("title",l),y.innerText=l,m.appendChild(y),m.appendChild(p),this.topEntriesLength-1===o&&(u.classList.add("position-static"),p.classList.add("mar-xs-lt")),u.appendChild(m),r.appendChild(u);var f=document.createElement("option");f.setAttribute("value",s),f.innerText=l,this.selectedCountry&&this.selectedCountry.toLowerCase()==c&&(f.setAttribute("selected",!0),this.index=o,this.value.innerText=l,this.optionSelected=f,this.liselected=u),this.input.appendChild(f),this.data.push({value:s,text:l}),o++}else!e&&this.countryListAlreadyAdded[l]&&o++}}catch(e){i.e(e)}finally{i.f()}this.list.appendChild(r),e||(this.listCreated=!0),this.item=this.parent.querySelectorAll(".b-flag-select__item"),this.listenerItemSelect(),this.selectedCountry&&this.start();var v=document.getElementById("listboxFlagSelectList-".concat(this.indexOfFlagSelect,"-").concat(this.index));this.selectedCountry&&v&&this.select(v)}},{key:"listenerItemSelect",value:function(){var e=this;Array.prototype.slice.call(this.item).forEach(function(n,t){"true"!==n.getAttribute("eventListenerAdded")&&(n.setAttribute("eventListenerAdded",!0),n.addEventListener("click",function(r){if(e.index=t,e.select(n),e.searchField.value="",e.closeSearchFilter(),e.isCountryRedirect){var o=window.location.protocol,i=window.location.port,a=window.location.hostname;a="www.westernunion.ru"===a?"www.westernunion.com":a;var s="".concat(o,"//").concat(a).concat(i&&":".concat(i),"/").concat(e.input.value.toLowerCase(),"/en/home.html");window.location.href=s}}))})}},{key:"setInnerText",value:function(e){return(WuAmerigoConfigs.isAmerigo()?this.countries:countryCurrencyDefaults.countries).find(function(n){return n.country.isoCode===e}).country.name}},{key:"select",value:function(e){var n=this,t=this.initialCheckForCookie?this.checkCookieUserSelectedValue():null,r=this.checkReceiverCountryInUrl();if("string"!=typeof e){this.input.value=e.getAttribute("data-flag-select-value");var o=e.getAttribute("data-flag-select-text");this.data.forEach(function(e){n.flag.children[0].classList.remove(e.value.trim().toLowerCase())}),this.onPageLoadFlagSelect&&r?(this.value.innerText=this.setInnerText(r),this.flag.children[0].classList.add(r.trim().toLowerCase()),this.onPageLoadFlagSelect=!1):t?(this.value.innerText=this.setInnerText(t.Country_Selected),this.flag.children[0].classList.add(t.Country_Selected.trim().toLowerCase())):(this.value.innerText=o,this.flag.children[0].classList.add(e.getAttribute("data-flag-select-value").trim().toLowerCase())),this.input.dispatchEvent(new CustomEvent("change")),this.flag.children[0].classList.contains("d-none")&&(this.flag.children[0].classList.remove("d-none"),this.flag.children[1]&&this.flag.children[1].classList.add("d-none")),this.toggleSearch()}else this.value.innerText=e}},{key:"start",value:function(){var e=this;this.data&&this.data[0]&&(this.input.value=this.data[0].value,this.value.innerText=this.data[0].text,this.data.forEach(function(n){n.value.trim(),e.flag.children[0].classList.remove(n.value.trim())}),this.flag.children[0].classList.add(this.data[0].value.trim()))}},{key:"checkCookieUserSelectedValue",value:function(){if(!this.isFooterDropDown){var e=CookieService.getParsedCookieValue("userSelectedValues");return this.initialCheckForCookie=!1,e}}},{key:"getParamFromUrl",value:function(){var e=window.location.search||window.location.hash;return""===e&&(e=null),e}},{key:"getURLParameter",value:function(e){var n=this.getParamFromUrl(),t=n&&decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(n)||[,""])[1].replace(/\+/g,"%20"))||null;return t&&(t=t.trim()),t}},{key:"checkReceiverCountryInUrl",value:function(){return this.getURLParameter("ReceiveCountry")}}]),countryListEvent=new CustomEvent("countrylist");function statFlag(){var e=document.querySelectorAll(".b-flag-select:not(.country-language-dropdown)");if(e.length>0){var n={country:e[0].getAttribute("data-country"),language:e[0].getAttribute("data-language"),host:e[0].getAttribute("data-host")},t=e[0].getAttribute("data-currency"),r=e[0].getAttribute("data-country"),o=triggerCountryList(n),i={"content-type":"application/JSON"};httpRequest.get("".concat(getHttpRequestUrl(),"content/wucom/base/global/config/activeVersion.json")).then(function(a){httpRequest.post("".concat(o.url,"?dcaasversion=").concat(a.dcaasVersion),o.reqPayload,i).then(function(o){var i=document.querySelector(".calculator");triggerPriceCorridorList(r,t||i&&i.getAttribute("data-currency")||ISO_CODES_COUNTRIES_CURRENCIES[r.toUpperCase()]).initPriceCorridorApi().then(function(t){window.countryCurrencyDefaults=t;var r=new CustomEvent("priceCorridorReady",{detail:{versionInfo:a,countriesList:t,dcaasResponse:o}});document.dispatchEvent(r);try{for(var i=CookieService.getParsedCookieValue("userSelectedValues"),s=new URLSearchParams(window.location.search),c=document.querySelector("section.currency-converter-updated"),l="rodeo"===CookieService.getCookie("homePageExperience")||"true"===s.get("enableRodeoExperience"),u=WuAmerigoConfigs.isAmerigo(),d=function(){var n={},r=[],a=e[m],s=a.getAttribute("id"),c=a.getAttribute("data-selected"),l=a.getAttribute("data-display-fx-rate"),d=a.getAttribute("data-initial-display-fx-rate"),p=/\/currency-converter\/.+\.html$/.test(window.location.pathname),y=sessionStorage.getItem("disableFXandFees"),f=sessionStorage.getItem("disableInitialFXandFees"),v={displayFxRate:"true"!==y,initialDisplayFxRate:f&&"true"!==f||"1"===d};p?DisplayFxRateParamsService.setDisplayParams({},{}):(DisplayFxRateParamsService.setDisplayParams({displayFxRate:"1"===l,initialDisplayFxRate:"1"===d},"disableFXandFees"in sessionStorage?v:void 0),l=DisplayFxRateParamsService.getDisplayProp("displayFxRate")),sessionStorage.removeItem("disableFXandFees"),sessionStorage.removeItem("disableInitialFXandFees");var g=[];if("footer-country-dropdown"===s){var h=formatDropdownCountryList(o,n,c,["sender_country_list"]);r=h.countryListRefactored,n=h.selectedCountry,flagSelectService.initiateFlagSelect(r,a,m,g,n,!0)}else if("gcr-country-dropdown"===s){var C=formatDropdownCountryList(o,n,c,["COUNTRY_LIST_GCR","COUNTRY_LIST"]);r=C.countryListRefactored,n=C.selectedCountry,flagSelectService.initiateFlagSelect(r,a,m,g,n,!0)}else if(u){var S=t.countries;S=flagSelectService.sortValues(S);var b={};S.forEach(function(e){b[e.country.isoCode]=e.country.name}),c=i?i.Country_Selected:c;var w=flagSelectService.getCountriesConfig(t.countries,b,c,WuAmerigoConfigs.getTopCountries(),g,o.COUNTRY_LIST);flagSelectService.initiateFlagSelect(w.countryListRefactored,a,m,w.topEntries,w.selectedCountry,!1,S,o.COUNTRY_LIST),document.dispatchEvent(countryListEvent)}else{window.countryCurrencyDefaults=t;var _=flagSelectService.sortValues(countryCurrencyDefaults.countries);c=i?i.Country_Selected:c;var A=flagSelectService.getCountriesConfig(_,o.COUNTRY_LIST,c,o.TOP_COUNTRIES,g);flagSelectService.initiateFlagSelect(A.countryListRefactored,a,m,A.topEntries,A.selectedCountry),document.dispatchEvent(countryListEvent)}},m=0;m<e.length;m++)d();(-1!==window.location.pathname.indexOf("currency-converter")||c&&l||document.querySelector("#currency-converter-main"))&&document.dispatchEvent(countryListEvent)}catch(e){console.log("Country list is empty fo ".concat(n.country,"-").concat(n.language)),console.error(e)}},function(){console.log("error in price corridor")})},function(){console.log("error")})},function(e){console.log("active version failed")})}}function formatDropdownCountryList(e,n,t,r){for(var o=[],i=e,a=n,s=t.toUpperCase(),c=0;c<r.length;c++)i=i[r[c]];for(var l in i)s===l.toUpperCase()&&(a.code=l,a.value=i[l]),2===l.length&&o.push({value:i[l],code:l});return{countryListRefactored:o=flagSelectService.sortValues(o,!0),selectedCountry:a}}var flagSelectService={sortValues:function(e,n){return e.sort(function(e,t){return n?sortingFn(e.value,t.value):sortingFn(e.country.name,t.country.name)}),e},initiateFlagSelect:function(e,n,t,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0;Object.keys(e).length>0?new FlagSelect({parent:n,countryList:e,selectedCountry:o,indexOfFlagSelect:t,topEntriesLength:r.length,isFooterDropDown:i,countries:a,optimusCountryList:s}).init():n.classList.add("d-none")},getCountriesConfig:function(e,n,t,r,o,i){var a={},s=[],c=getExceptionList();for(var l in r)if("listPath"!==l&&r[l]){var u=r[l],d=Object.values(u)[0];s.push({value:d,code:Object.keys(u)[0]}),o.push(d)}var m=t.toUpperCase();return e.forEach(function(e){var t=e.country.isoCode,r=n[t],l=t.toUpperCase();m===l&&(a={code:l,value:i&&i[l]?l:r}),r&&!c.includes(l)&&-1===o.indexOf(r)&&s.push({code:t,value:r})}),{countryListRefactored:s,topEntries:o,selectedCountry:a}}},httpRequest=function(){var e=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"GET";return new Promise(function(o,i){var a=new XMLHttpRequest;for(var s in a.open(r,e,!0),t)a.setRequestHeader(s,t[s]);a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var t=JSON.parse(a.responseText),r=e.split("/"),s=r[r.length-1];(s=s.split("?")[0])&&window.logAPIEvent&&window.amplitude&&logAPIEvent("/".concat(s),n,t),o(t)}else a.status>=400&&i(a.status)},a.send(JSON.stringify(n))})};return{get:function(n,t){return e(n,void 0,t,"GET")},post:function(n,t,r){return e(n,t,r,"POST")},put:function(n,t,r){return e(n,t,r,"PUT")}}}();function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach(function(n){_defineProperty(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _defineProperty(e,n,t){return(n=_toPropertyKey(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _toPropertyKey(e){var n=_toPrimitive(e,"string");return"symbol"==_typeof(n)?n:n+""}function _toPrimitive(e,n){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _receiverCurrencyEL$g,fetchApiWu=function(e,n,t){var r=document.getElementById("spinnerContainer");return showSpinnerMain(r),fetch(e,n).then(function(e){var n;hideSpinnerMain(r);var t=null==e||null===(n=e.headers)||void 0===n?void 0:n.get("content-type");try{return-1===(null==t?void 0:t.indexOf("application/json"))?e.text():e.ok?e.json():t||!1!==e.ok?e.json().then(function(n){return"object"!==_typeof(n)||Array.isArray(n)||null===n?n:_objectSpread({status:e.status,statusText:e.statusText,ok:!1,error:!0},n)}):{status:e.status,statusText:e.statusText,ok:!1,error:!0}}catch(n){return{status:e.status,statusText:e.statusText,ok:!1,error:!0}}}).then(function(e){return t&&window.logAPIEvent&&window.logAPIEvent("/".concat(t),n.body,e),e})},ISO_CODES_COUNTRIES_CURRENCIES={IN:"INR",PK:"PKR",TH:"THB",AF:"AFN",AL:"ALL",DZ:"DZD",AS:"USD",AD:"EUR",AO:"AOA",AI:"XCD",AG:"XCD",AR:"ARS",AW:"AWG",AU:"AUD",AT:"EUR",AZ:"AZN",BS:"BSD",BH:"BHD",BD:"BDT",BB:"BBD",BY:"USD",BE:"EUR",BZ:"BZD",BJ:"XOF",BT:"BTN",BO:"BOB",BA:"BAD",BW:"BWP",BR:"BRL",BM:"BMD",VG:"USD",BN:"BND",BG:"BGN",BF:"XOF",BI:"BIF",KH:"USD",CM:"XAF",CA:"CAD",CV:"CVE",CF:"XAF",TD:"XAF",CL:"CLP",CN:"CNY",CO:"COP",KM:"KMF",CG:"XAF",CD:"USD",CK:"NZD",CR:"CRC",HR:"EUR",AN:"ANG",CY:"EUR",C2:"USD",CZ:"CZK",DK:"DKK",DJ:"DJF",DO:"DOP",TP:"USD",EC:"USD",EG:"EGP",SV:"USD",GQ:"XAF",ER:"ERN",EE:"EUR",ET:"ETB",FK:"FKP",FJ:"FJD",FI:"EUR",FR:"EUR",GF:"EUR",GA:"XAF",GM:"GMD",GE:"GEL",DE:"EUR",GH:"GHS",GI:"GBP",GR:"EUR",GD:"XCD",GP:"EUR",GU:"USD",GT:"GTQ",GN:"GNF",GW:"XOF",GY:"GYD",HT:"HTG",HN:"HNL",HK:"HKD",HU:"HUF",IS:"ISK",ID:"IDR",IQ:"IQD",IE:"EUR",IL:"USD",IT:"EUR",CI:"XOF",JM:"JMD",JP:"JPY",JO:"JOD",KZ:"KZT",KE:"KES",KI:"AUD",KR:"USD",K1:"EUR",KW:"KWD",KG:"USD",LA:"LAK",LV:"EUR",LB:"USD",LS:"LSL",LR:"USD",LI:"CHF",LT:"EUR",LU:"EUR",MO:"MOP",MK:"EUR",MG:"MGA",MW:"MWK",MY:"MYR",MV:"MVR",ML:"XOF",MT:"EUR",MH:"USD",MQ:"EUR",MR:"MRO",MU:"MUR",YT:"EUR",MX:"MXN",FM:"USD",MD:"MDL",MC:"EUR",MN:"USD",ME:"EUR",MS:"XCD",MA:"MAD",MZ:"MZN",MM:"MMK",NA:"NAD",NR:"AUD",NP:"NPR",NL:"EUR",NC:"XPF",NG:"NGN",NZ:"NZD",NI:"USD",NE:"XOF",NU:"NZD",MP:"USD",NO:"NOK",OM:"OMR",PW:"USD",PS:"ILS",PA:"USD",PG:"PGK",PY:"PYG",PE:"PEN",PH:"PHP",PL:"PLN",PT:"EUR",PR:"USD",QA:"QAR",RE:"EUR",RO:"RON",RU:"RUR",RW:"RWF",BL:"EUR",KN:"XCD",LC:"XCD",VC:"XCD",WS:"WST",ST:"STN",SA:"SAR",SN:"XOF",YU:"RSD",SC:"SCR",SL:"SLE",SG:"SGD",SK:"EUR",SI:"EUR",SB:"SBD",ZA:"ZAR",SS:"SSP",ES:"EUR",LK:"LKR",S1:"ANG",SD:"SDG",SR:"USD",SE:"SEK",CH:"CHF",TW:"USD",TJ:"USD",TZ:"TZS",TG:"XOF",TO:"TOP",TT:"TTD",TN:"TND",TR:"TRY",TM:"USD",TV:"AUD",UG:"UGX",UA:"UAH",AE:"AED",GB:"GBP",US:"USD",UY:"UYP",UZ:"USD",VU:"VUV",VE:"VIB",VN:"VND",VI:"USD",YE:"USD",ZM:"ZMW",ZW:"USD",QS:"USD",CU:"USD",TC:"USD",XR:"GBP",QQ:"USD",XP:"USD",AB:"USD",QM:"USD",QN:"USD",QO:"USD",QP:"USD",QR:"USD",QT:"USD",QU:"USD",QV:"USD",QW:"USD",QX:"USD",QY:"USD",QZ:"USD",XF:"USD",XY:"USD",XN:"USD",XT:"USD",KY:"KYD",DM:"XCD"},urlParams=new URLSearchParams(window.location.search),ccSendMoneyEl=document.querySelector(".container-cc-updated"),receiverCurrencyEL=null==ccSendMoneyEl?void 0:ccSendMoneyEl.querySelector("#default-receiver-currency"),receiverCountry=urlParams.get("ReceiverCountry")||"true"===CookieService.getCookie("ReceiverCountry")||(null==receiverCurrencyEL||null===(_receiverCurrencyEL$g=receiverCurrencyEL.getAttribute("data-default-receiver-country"))||void 0===_receiverCurrencyEL$g?void 0:_receiverCurrencyEL$g.toUpperCase()),showCCSendMoneyConfigure=function(e){receiverCountry=receiverCountry||e.receiverCountry;var n="rodeo"===CookieService.getCookie("homePageExperience")||"true"===urlParams.get("enableRodeoExperience");if(ccSendMoneyEl&&receiverCountry&&n){receiverCountry=receiverCountry.toUpperCase();var t=document.querySelector(".currency-converter-main"),r=document.querySelector(".join-now-main");if(receiverCountry&&ccSendMoneyEl){ccSendMoneyEl.classList.remove("d-none"),t&&t.remove(),r&&r.remove();var o=ccSendMoneyEl.querySelector(".receiverCurrencyDrop.wu-currency-flag i"),i=ISO_CODES_COUNTRIES_CURRENCIES[receiverCountry];i&&(receiverCurrencyEL&&receiverCurrencyEL.setAttribute("data-default-receiver-currency-name",i),receiverCurrencyEL&&receiverCurrencyEL.setAttribute("data-default-receiver-country",receiverCountry),o&&o.classList.add(receiverCountry.toLowerCase()))}}};!function(){try{showCCSendMoneyConfigure({})}catch(e){console.error(e)}}();var enableRodeoExpernce="rodeo"===CookieService.getCookie("homePageExperience")||"true"===urlParams.get("enableRodeoExperience"),showHomePageRodeoExp=function(){var e=document.querySelectorAll(".hero-component");document.getElementById("rodeo-experience")&&(null==e||e.forEach(function(e){"rodeo-experience"===e.getAttribute("id")?e.classList.remove("d-none"):e.classList.add("d-none")}))};!function(){try{enableRodeoExpernce&&showHomePageRodeoExp()}catch(e){console.error(e)}}();var removeClass=function(e,n){var t=document.getElementById(e);void 0!==t&&null!=t&&t.classList.remove(n)},addClass=function(e,n){var t=document.getElementById(e);void 0!==t&&null!=t&&t.classList.add(n)},openSideNavTrigger=document.getElementById("hamburger-mobile-button"),closeSideNavTrigger=document.getElementById("close-sidenav-button");openSideNavTrigger&&openSideNavTrigger.addEventListener("click",function(e){removeClass("hamburger-mobile-button","d-flex"),addClass("close-sidenav-button","d-flex"),addClass("wu-mobile-menu-content","d-inline")}),closeSideNavTrigger&&closeSideNavTrigger.addEventListener("click",function(e){addClass("hamburger-mobile-button","d-flex"),removeClass("close-sidenav-button","d-flex"),removeClass("wu-mobile-menu-content","d-inline")});var nodelist=Array.prototype.slice.call(document.querySelectorAll("li.nav-item__nested > a.nav-item__link"));nodelist.forEach(function(e){e.addEventListener("click",function(e){e.target.classList.toggle("nav-item__link--active")},!1)});var langFooterDropdown=function(){var e=document.getElementById("language-select-dropdown"),n=document.getElementById("language-drop-down-list"),t=document.getElementsByClassName("language-arrow-icon");e&&e.addEventListener("click",function(e){n.style.display="none"===n.style.display?"block":"none",t&&t[0].classList.toggle("down")})}();function mobAccordionMenu(){var e=document.querySelectorAll('[id*="tab-wuplus-icon"]');if(e.length)for(var n=function(n){e[n].addEventListener("click",function(e){document.getElementById("tab-wuplus-content".concat(n+1)).classList.toggle("d-none")})},t=0;t<e.length;t++)n(t)}function _slicedToArray(e,n){return _arrayWithHoles(e)||_iterableToArrayLimit(e,n)||_unsupportedIterableToArray(e,n)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(s.push(r.value),s.length!==n);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var stringExists=function(e,n){var t,r=_createForOfIteratorHelper(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(-1!==e.indexOf(o))return!0}}catch(e){r.e(e)}finally{r.f()}return!1};function getParamFromUrl(){var e=window.location.search||window.location.hash;return""===e&&(e=null),e}function getURLParameter(e){var n=getParamFromUrl(),t=n&&decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(n)||[,""])[1].replace(/\+/g,"%20"))||null;return null!=t&&(t=t.trim()),t}var env=["origin.cms","cloudfront","wucom-wdp-dev","localhost","www2.westernunion.com"],prodUrl="https://www.westernunion.com/",sortingFn=function(e,n){var t=e.toUpperCase(),r=n.toUpperCase();return t<r?-1:t>r?1:0},getParams=function(e,n,t,r,o,i,a){var s="",c=WuAmerigoConfigs.isAmerigo();return c&&-1==a.indexOf("web/send-money/start")&&(s="page=/send_money&payment.country_send=".concat(e,"&payment.currency_send=").concat(n,"&payment.amount_get=").concat(t,"&fundsout=").concat(r,"&fundsin=").concat(o)),c&&-1==a.indexOf("web/send-money/start")?"en"===i?"?~".concat(s):"?lang=".concat(i,"&").concat(s):"?ReceiveCountry=".concat(e,"&ISOCurrency=").concat(n,"&SendAmount=").concat(t,"&FundsOut=").concat(r,"&FundsIn=").concat(o)},uaeCheck="alfardanexchange",uatUrl="https://wudispatcher-uatrs3.westernunion.com/",russiaUrl="https://www.westernunion.ru/",www3Url="https://www3.westernunion.com/",getHttpRequestUrl=function(e,n,t){return-1!==location.href.indexOf("www2")?"".concat(location.origin,"/"):t?e:stringExists(location.href,["origin.cms","cloudfront","wucom-wdp-dev","localhost","www3"])?uatUrl:"ru"===n?russiaUrl:e||prodUrl},toggleClass=function(e,n,t){-1!==e.className.indexOf(n)?(e.classList.add(t),e.classList.remove(n)):(e.classList.add(n),e.classList.remove(t))},getExceptionList=function(){return["ab","qm","qn","qo","qp","qq","qr","qs","qt","qu","qv","qw","qx","qy","qz","xf","xn","xp","xt","xy"]},partnerIdEnabledCountries=["CL"],getPartnerIdForCountry={CL:{webPartnerId:"CL959DTWPP1B"}},isPartnerIdEnabled=function(e){return partnerIdEnabledCountries.includes(e)};function setCookie(e,n,t,r){var o=new Date;o.setTime(o.getTime()+24*t*60*60*1e3);var i="expires="+o.toUTCString();document.cookie=r?e+"="+n+";"+i+";path="+r:e+"="+n+";"+i+";path=/"}var routerUrl=location.hostname.startsWith("www")?"/router/":"https://digital-chs-uat.digitalprod.awswuintranet.net/router/";function generateUniqueID(){var e=(new Date).getTime(),n="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=16*Math.random();return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(n+r)%16|0,n=Math.floor(n/16)),("x"===t?r:3&r|8).toString(16)})}function inactivityTime(e,n){var t,r=e,o=0;/complete|interactive|loaded/.test(document.readyState)?a():window.addEventListener("load",a,!0);var i=["mousedown","mousemove","keypress","scroll","touchstart","click"];function a(){o=0}i.forEach(function(e){document.addEventListener(e,a,!0)}),t=window.setInterval(function(){++o>=r&&(window.clearInterval(t),n(),window.removeEventListener("load",a,!0),i.forEach(function(e){document.removeEventListener(e,a,!0)}))},1e3)}var hideSpinnerMain=function(e){e&&toggleClass&&toggleClass(e,"d-flex","d-none")},showSpinnerMain=function(e){e&&toggleClass&&toggleClass(e,"d-none","d-flex")},capitalizeWords=function(e){try{if(e)return(e=e.toLowerCase()).split(" ").map(function(e){return e[0].toUpperCase()+e.substring(1)}).join(" ")}catch(n){return console.log("Error into capitalized the string"),e}},mailformat=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,phoneformat=/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im,getCountryAndLanguage=function(){var e=location.pathname.replace("/pages/latest","").split("/");return{country:e[1],lang:e[2]}},showValidationMessage=function(e){var n=e.parentNode;n.classList.add("wu-input--error");var t=n.querySelector(".wu-input--error");t&&t.classList.remove("d-none")},hideValidationMessage=function(e){var n=e.parentNode;n.classList.remove("wu-input--error");var t=n.querySelector(".wu-input--error");t&&t.classList.add("d-none")},maskingEmail=function(e){if(e){var n,t=e.split(""),r=[],o=t.indexOf("@"),i=0,a=_createForOfIteratorHelper(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;i>1&&i<o-2?r.push("*"):r.push(s),i++}}catch(e){a.e(e)}finally{a.f()}return r.join("")}return""},passwordFormat=/((?=.*[a-z])(?=.*[A-Z])(?=.*[0123456789])^.{8,16}$)/,eyeIconView=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(n)if(e)t.removeAttribute("style");else for(var o=0,i=Object.entries(r);o<i.length;o++){var a=_slicedToArray(i[o],2),s=a[0],c=a[1];t.style[s]=c}},showHideValidationMessage=function(e,n){var t=e.parentNode,r=t.querySelector(".wu-input--error");"show"===n?(t.classList.add("wu-input--error"),r&&classList.remove("d-none")):(t.classList.remove("wu-input--error"),r&&classList.add("d-none"))};function updateUserIdentity(e){var n,t,r=CookieService.getCookie("userIdentity");r||CookieService.setCookie("userIdentity","newCustomer",365,location.pathname),"0"===(null==e||null===(n=e.gatewayCustomer)||void 0===n?void 0:n.transactionCount)&&"registeredCustomer"!==r&&CookieService.setCookie("userIdentity","registeredCustomer",365,location.pathname),(null==e||null===(t=e.gatewayCustome)||void 0===t?void 0:t.transactionCount)>0&&"existingCustomer"!==r&&CookieService.setCookie("userIdentity","existingCustomer",365,location.pathname)}var getCurrencyFromPriceCorridor=function(e){try{for(var n,t=null,r=countryCurrencyDefaults.countries.find(function(n){return n.country.isoCode.toLowerCase()===e.toLowerCase()})||null,o=null==r||null===(n=r.country)||void 0===n?void 0:n.currencies,i=0;i<o.length;i++)t=o.find(function(e){return"1"===e.currency.order});return t.currency.isoCode}catch(e){console.log("price corridor failed"),console.log(e)}};function storeErrorResponseAndSession(e,n,t,r){sessionStorage.setItem("quickLoginErrorResponse",JSON.stringify(e)),CookieService.setCookie("SessionId",n,10,"/"),CookieService.setCookie("ClientIp",t,10,"/"),CookieService.setCookie("EncryptedSessionId",r,10,"/")}!function(){var e=document.getElementById("qrCodeModalMain");if(e){null==e||e.querySelector(".qrCodeClose").addEventListener("click",function(e){n()}),window.addEventListener("keydown",function(e){"Escape"===e.key&&n()});var n=function(){e.classList.add("d-none"),e.classList.remove("d-flex"),CookieService.setCookie("qrCodeClosed","true")}}}();var getSessionStorageItems=function(e){return e.map(function(e){return{key:e,value:window.sessionStorage.getItem(e)}})},setSessionStorageItems=function(e){return e.forEach(function(e){var n=e.key,t=e.value;return window.sessionStorage.setItem(n,t)})},CHANGE_COUNTRY_CURRENCY_FOR_API_REQUEST={BA:[{BAM:"BAD"}],RU:[{RUB:"RUR"}],UY:[{UYU:"UYP"}],VE:[{VEF:"VIB"}],ST:[{STD:"STN"}]},setCountryCurrencyChange=function(e,n){var t,r=CHANGE_COUNTRY_CURRENCY_FOR_API_REQUEST&&CHANGE_COUNTRY_CURRENCY_FOR_API_REQUEST[e]?CHANGE_COUNTRY_CURRENCY_FOR_API_REQUEST[e]:void 0;return r&&r.length>0&&r.forEach(function(e){Object.keys(e).forEach(function(r){r===n&&(t=e[r])})}),t||n};!function(){var e=document.getElementById("mobile-sticky");e&&window.matchMedia("only screen and (max-width: 768px)").matches&&(document.querySelector("body").insertAdjacentElement("afterend",e),window.addEventListener("scroll",function(n){e.style.display=window.scrollY>800?"block":"none"}))}();var senderCountryExceptionList=["US"],validateExceptionList=function(e,n){return!!senderCountryExceptionList.includes(e.toUpperCase())||!getExceptionList().includes(n.toLowerCase())};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var n=_toPrimitive(e,"string");return"symbol"==_typeof(n)?n:n+""}function _toPrimitive(e,n){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}var WuInputField=_createClass(function e(n){_classCallCheck(this,e),this.inputField=n.querySelector(".wu-input"),this.searchInput=n.getElementsByClassName("wuds-dropdown__search__box"),this.currencyList=n.querySelectorAll(".wuds-dropdown__search__list .wuds-dropdown__item"),this.clearButton=n.querySelector(".wuds-dropdown__search__cancel__icon"),this.curDropdown=n.querySelector(".wuds-dropdown--country"),this.moreButton=n.getElementsByClassName("icon-0024_dropdown-more"),this.init()},[{key:"init",value:function(){this.listeners(),this.curDropdown&&this.curDropdown.style&&(this.curDropdown.style.display="none")}},{key:"listeners",value:function(){var e,n=this;if(document.addEventListener)document.getElementsByTagName("body")[0].addEventListener("click",function(e){n.currencyDropdownToggle(e)}),this.searchInput&&this.searchInput[0]&&this.searchInput[0].addEventListener("keyup",function(e){n.searchFilter()}),null===(e=this.clearButton)||void 0===e||e.addEventListener("click",function(e){n.onClickClear()});else if(document.attachEvent){var t;document.getElementsByTagName("body")[0].addEventListener("click",function(e){n.currencyDropdownToggle()}),this.searchInput&&this.searchInput[0]&&this.searchInput[0].addEventListener("keyup",function(e){n.searchFilter()}),null===(t=this.clearButton)||void 0===t||t.addEventListener("click",function(e){n.onClickClear()})}}},{key:"onClickClear",value:function(){this.searchInput&&this.searchInput[0].focus(),this.searchInput&&(this.searchInput[0].value="");for(var e=0;e<=this.currencyList.length-1;e++)this.currencyList[e].style.display="block"}},{key:"searchFilter",value:function(){if(this.searchInput&&this.searchInput[0].value.length>0?this.clearButton.style.display="flex":this.clearButton.style.display="none",this.currencyList&&this.currencyList.length>0)for(var e=0;e<this.currencyList.length;e++){var n=this.currencyList[e],t=n&&n.querySelector(".b-flag-select__text").innerText;this.searchInput&&this.searchInput[0]&&t.toUpperCase().indexOf(this.searchInput[0].value.toUpperCase())>-1?n.style.display="block":n.style.display="none"}}},{key:"clearSearch",value:function(){this.searchInput&&this.searchInput[0].focus(),this.searchInput&&(this.searchInput[0].value=""),this.searchFilter()}},{key:"currencyDropdownToggle",value:function(e){var n=document.querySelector(".amount");n.setAttribute("value",n.value),n.getAttribute("data-value")!=n.value?sessionStorage.setItem("currency-converter-amount",n.value):sessionStorage.removeItem("currency-converter-amount"),e.target&&e.target.classList.contains("receiverCurrencyDrop")?(this.moreButton&&this.moreButton[0].classList.toggle("down"),this.curDropdown.style.display="none"===this.curDropdown.style.display?"block":"none",this.clearSearch()):e.target&&e.target.classList.contains("b-language-dropdown")?(this.moreButton&&this.moreButton[0].classList.toggle("down"),this.curDropdown.style.display="none"===this.curDropdown.style.display?"block":"none"):!e.target.id||"searchInput"!==e.target.id&&"clear"!==e.target.id?(this.curDropdown.style.display="none",this.clearSearch(),this.moreButton&&this.moreButton.length>0&&this.moreButton[0].classList.contains("down")&&this.moreButton&&this.moreButton[0].classList.toggle("down")):this.curDropdown.style.display="block"}}]);function loadCurrencyDropdown(){var e=document.querySelectorAll(".currency-select-dropdown");if(e.length>0)for(var n=0;n<e.length;n++)e[n].closest("#rodeo-experience")||new WuInputField(e[n])}var createSessionQuery="mutation createSession( $req:CreateSessionInput ){\n  createSession(input: $req) {\n    ... on CreateSessionResponse{\n      security {\n        clientIp\n        dataCenter\n        session{\n        auth\n        encryptedSessionId\n        id\n        }\n      }\n    }\n    ... on ErrorResponse {\n      errorCode\n      message\n      name\n    }\n    }\n  }",productApiQuery="\n    query products($req_products: ProductsInput, ) {\n      products(input: $req_products) {\n        __typename\n          ...on ProductsResponse {\n            products {\n              code\n              name\n              payIn\n              payOut\n              fees\n              exchangeRate\n              destination {\n                expectedPayoutAmount\n                expectedPayoutAmountLong\n                currencyIsoCode\n                countryIsoCode\n                splitPayOut {\n                  expectedPayoutAmount\n                  currencyIsoCode\n                  exchangeRate\n                  countryIsoCode\n                }\n                actualPayoutAmount\n              }\n            }\n            categories {\n              type\n              orders {\n                payIn\n                payOut\n              }\n            }\n          }\n          ...on ErrorResponse {\n            errorCode\n            message\n          }\n      }\n    }";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach(function(n){_defineProperty(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _defineProperty(e,n,t){return(n=_toPropertyKey(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _toPropertyKey(e){var n=_toPrimitive(e,"string");return"symbol"==_typeof(n)?n:n+""}function _toPrimitive(e,n){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}var triggerRouterCreateSession=function(e,n){var t=new Headers,r=e.toUpperCase();t.append("x-wu-operationname","createSession"),t.append("Content-Type","application/json"),t.append("x-wu-accesscode","RtYV3XDz9EA"),t.append("wucountrycode",r),t.append("wulanguagecode",n);var o=window.sessionStorage.getItem("blackBoxString"),i={businessMode:"DIGITAL",externalReferenceNo:"1",locale:{countryCode:r,languageCode:n},security:{requestHeader:[{key:"isRREnabled",value:"false"}],blackBoxData:_objectSpread(_objectSpread({id:"101569194"},o&&{data:o}),{},{length:null!=o&&o.length?"".concat(null==o?void 0:o.length.toString()):"0"})},device:{type:"WEB"},channel:{type:"WEB",name:"Western Union",version:"9Z00",isResponsive:"true",deviceIdentifier:"RESPONSIVE_WEB"}};if(isPartnerIdEnabled(r)){var a=getPartnerIdForCountry[r].webPartnerId;a&&(i.channel.partnerId=a)}var s=JSON.stringify({query:createSessionQuery,variables:{req:i}});return fetchApiWu(routerUrl,{method:"POST",headers:t,body:s,redirect:"follow"},"createSessionVulcan").then(function(e){var n,t,r,o;return Promise.resolve({sessionId:null==e||null===(n=e.data)||void 0===n||null===(n=n.createSession)||void 0===n||null===(n=n.security)||void 0===n||null===(n=n.session)||void 0===n?void 0:n.id,encryptedSessionId:null==e||null===(t=e.data)||void 0===t||null===(t=t.createSession)||void 0===t||null===(t=t.security)||void 0===t||null===(t=t.session)||void 0===t?void 0:t.encryptedSessionId,clientIp:null==e||null===(r=e.data)||void 0===r||null===(r=r.createSession)||void 0===r||null===(r=r.security)||void 0===r?void 0:r.clientIp,dataCenter:null==e||null===(o=e.data)||void 0===o||null===(o=o.createSession)||void 0===o||null===(o=o.security)||void 0===o?void 0:o.dataCenter})}).catch(function(e){return console.log("Product Data not found: ",e)})};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach(function(n){_defineProperty(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _defineProperty(e,n,t){return(n=_toPropertyKey(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _toPropertyKey(e){var n=_toPrimitive(e,"string");return"symbol"==_typeof(n)?n:n+""}function _toPrimitive(e,n){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}var triggerProductApi=function(e,n,t,r,o,i,a){var s,c=new Headers,l=n.toUpperCase();c.append("x-wu-operationname","products"),c.append("Content-Type","application/json"),c.append("x-wu-accesscode","RtYV3XDz9EA"),c.append("wucountrycode",l),c.append("wulanguagecode",r),c.append("device-id",null===(s=CookieService)||void 0===s?void 0:s.getCookie("wu_device_id"));var u="MX"===t.toUpperCase()&&"AG"===a?CloudPayOutCodeMapping.AGMexico:CloudPayOutCodeMapping[a],d=Date.now(),m=window.sessionStorage.getItem("state"),p={};if(["CA","US"].includes(l)){if(m){var y,f;null!==(y=m=JSON.parse(m))&&void 0!==y&&null!==(y=y.updatedUserDetails)&&void 0!==y&&null!==(y=y.gatewayCustomer)&&void 0!==y&&null!==(y=y.address)&&void 0!==y&&y.state&&null!==(f=m)&&void 0!==f&&null!==(f=f.updatedUserDetails)&&void 0!==f&&null!==(f=f.gatewayCustomer)&&void 0!==f&&null!==(f=f.address)&&void 0!==f&&f.province&&(p.eflValue=m.updatedUserDetails.gatewayCustomer.address.state,p.provinceState=m.updatedUserDetails.gatewayCustomer.address.province)}else{var v=CookieService.getCookie("AKRegioncode");v&&(p.eflValue=p.provinceState=v)}p.eflValue&&"CA"===l&&CanadaStates[p.eflValue]||"US"===l&&USAStates[p.eflValue]||(p={})}var g=(100*o).toFixed(2);g=Number(g);var h={req_products:{origination:_objectSpread({channel:"WWEB",client:"WUCOM",countryIsoCode:l,currencyIsoCode:ISO_CODES_COUNTRIES_CURRENCIES[l],eflType:"STATE",amount:g,fundsIn:"*",airRequested:"Y"},p),destination:{countryIsoCode:t.toUpperCase(),currencyIsoCode:ISO_CODES_COUNTRIES_CURRENCIES[t.toUpperCase()]},language:r,headerRequest:{version:"0.5",requestType:"PRICECATALOG",correlationId:e,transactionId:"".concat(e,"-").concat(d)},visit:{localDatetime:{timeZone:(new Date).getTimezoneOffset(),timestampMs:d}}}},C=JSON.stringify({query:productApiQuery,variables:h});return fetch(routerUrl,{method:"POST",headers:c,body:C,redirect:"follow"}).then(function(e){return e.text()}).then(function(e){var n,t,r=null===(n=e=JSON.parse(e))||void 0===n||null===(n=n.data)||void 0===n||null===(n=n.products)||void 0===n||null===(n=n.products)||void 0===n?void 0:n.filter(function(e){return e.payIn===i&&e.payOut===u})[0];return r?Promise.resolve({fx:r.exchangeRate,fee:r.fees?r.fees/100:0,receiveAmount:null!=r&&null!==(t=r.destination)&&void 0!==t&&t.expectedPayoutAmountLong?r.destination.expectedPayoutAmountLong/100:0,sendAmount:o}):Promise.resolve({fx:null,fee:null,receiveAmount:0,sendAmount:0})}).catch(function(e){return console.log("error",e)})},sendMoneyLink=function(){var e;return{setParam:function(n){n&&(e=n.split("?")[1])},getParam:function(){return e}}}(),onCustomerLogin=function(e){try{var n=getCountryAndLanguage(),t=n.country,r=n.lang,o=window.location.host,i={emailId:null==e?void 0:e.emailId,password:null==e?void 0:e.password,rememberMeChecked:null==e?void 0:e.rememberMeChecked};CookieService.getCookie("rodeoR4Experience")?getCustomerSignOnR4API(t,r,i):getCustomerSignOnR3API(t,r,i,o)}catch(e){console.error("Catch: ",e)}};function setR3DataInStorage(e,n,t,r,o){try{var i,a,s,c,l,u=null==o||null===(i=o.data)||void 0===i||null===(i=i.customerProfile)||void 0===i||null===(i=i.customer)||void 0===i?void 0:i.accountNumber,d=null==o||null===(a=o.data)||void 0===a||null===(a=a.customerProfile)||void 0===a||null===(a=a.customer)||void 0===a?void 0:a.registrationDate,m={},p=r.toUpperCase();m=u?{email:t.emailId,verificationStatus:"N",termsConditionFlag:"1",myWuNumber:u,isLoggedIn:!0,address:{countryIsoCode:p},additionalPreferedAccountNumber:u,issueDate:null==d||null===(c=d.split(" ")[0])||void 0===c?void 0:c.replace(/-/g,""),mobileNumber:{},identityVerificationStatus:"N",accountPreferences:{optOutMarketing:"true",directMail:"false",message:"false",email:"true",telephoneCall:"false",optInShare:"true",thirdpartyDatasharingConsent:"true",whatsAppMsg:"false"},registrationDetails:{registrationDate:d,registrationStatus:"P"},customerLevelCode:null==o||null===(l=o.data)||void 0===l||null===(l=l.customerProfile)||void 0===l||null===(l=l.customer)||void 0===l?void 0:l.customerLevelCode}:{email:t.emailId,password:t.password};var y=document.querySelector("#footer-country-dropdown .b-flag-select__value"),f=window.receiverCountry,v=null===(s=countryCurrencyDefaults)||void 0===s||null===(s=s.countries)||void 0===s||null===(s=s.filter(function(e){return e.country.isCode===f})[0])||void 0===s||null===(s=s.country)||void 0===s?void 0:s.name,g={sessionId:e,encryptedSessionId:n,sender:m,corridor:{senderCountry:{isoCode:p,name:null==y?void 0:y.innerText},receiverCountry:{isoCode:f,name:v},receiverCurrency:ISO_CODES_COUNTRIES_CURRENCIES[f],senderCurrency:ISO_CODES_COUNTRIES_CURRENCIES[p],senderCurrencyArray:[{currency:ISO_CODES_COUNTRIES_CURRENCIES[p]}],receiverCurrencyArray:[{currency:ISO_CODES_COUNTRIES_CURRENCIES[f]}]}},h=JSON.stringify(g);sessionStorage.setItem("app",h),sessionStorage.setItem("cookiestore",h),sessionStorage.setItem("sc_login_success",!0),CookieService.setCookie("SessionId",e,30,"/",!0,".westernunion.com"),CookieService.setCookie("EncryptedSessionId",n,30,"/".concat(r,"/").concat(lang),!0,".westernunion.com")}catch(e){console.log(e)}}var getCustomerSignOnR4API=function(e,n,t){triggerRouterCreateSession(e,n).then(function(r){var o=r.sessionId,i=r.encryptedSessionId,a=r.clientIp,s=r.dataCenter;o&&getCustomerR4API(o,i,a,s,e,n,t)}).catch(function(e){console.error("error from trigger create Session : ",e)})},getCreateSessionR3API=function(e,n,t){var r=triggerCreateSession(e,n,t);return httpRequest.post(r.createSessionurl,r.reqPayload,{"Content-type":"application/json"}).then(function(e){var n,t,r;return{clientIp:null!=e&&null!==(n=e.security)&&void 0!==n&&n.client_ip?e.security.client_ip:"245024209201",sessionId:null==e||null===(t=e.security)||void 0===t?void 0:t.session.id,encryptedSessionId:null==e||null===(r=e.security)||void 0===r||null===(r=r.session)||void 0===r?void 0:r.encrypted_session_id}}).catch(function(e){console.error("error from trigger Session API  : ",e)})},getSignOnR3APIs=function(e,n,t,r,o){if(null!=o&&o.clientIp&&null!=o&&o.sessionId){var i=o.clientIp,a=o.sessionId,s=o.encryptedSessionId;triggerCustomerSignOn(e,n,a,i,t,r).then(function(o){var c;if(null!=o&&null!==(c=o.error)&&void 0!==c&&c.code)storeErrorResponseAndSession(o,a,i,s),location.href="/".concat(e,"/").concat(n,"/web/user/login");else{var l,u=null==o||null===(l=o.gatewayCustomer)||void 0===l||null===(l=l.preferredCustomer)||void 0===l?void 0:l.accountNbr;triggerGetTransactionDetails(a,i,u,r).then(function(c){setR3SendeGatewayrDetails(a,s,e,n,t,o,"sc_login_success"),updateUserIdentity(o),triggerGetCustomerVerificationStatus(a,i,u,r).then(function(o){setR3CustomerVerificationStatus(o),triggerGetLoyaltycards(a,i,u,r).then(function(r){var o;setR3LoyalityCard(r),null!=t&&t.rememberMeChecked&&CookieService.setCookie("User_Email",null==t?void 0:t.emailId,365,"/",!0,".westernunion.com"),(null==c||null===(o=c.transactions)||void 0===o||null===(o=o.transaction)||void 0===o?void 0:o.length)>0?location.href="/".concat(e,"/").concat(n,"/web/account/history"):location.href="/".concat(e,"/").concat(n,"/web/send-money/start")}).catch(function(e){console.error(e)})}).catch(function(e){console.error(e)})}).catch(function(e){console.error(e)})}}).catch(function(e){console.error(e)})}},getCustomerSignOnR3API=function(e,n,t,r){var o={sessionId:CookieService.getCookie("SessionId"),clientIp:CookieService.getCookie("ClientIp"),encryptedSessionId:CookieService.getCookie("EncryptedSessionId")};null!=o&&o.sessionId?getSignOnR3APIs(e,n,t,r,o):getCreateSessionR3API(e,n,r).then(function(i){o.sessionId=null==i?void 0:i.sessionId,o.clientIp=null==i?void 0:i.clientIp,o.encryptedSessionId=null==i?void 0:i.encryptedSessionId,getSignOnR3APIs(e,n,t,r,o)})},getCustomerR4API=function(e,n,t,r,o,i,a){triggerRouterSignInCustomer(e,o,i,a).then(function(s){var c,l;null!=s&&null!==(c=s.data)&&void 0!==c&&null!==(c=c.signIn)&&void 0!==c&&c.errorCode?location.href="/".concat(o,"/").concat(i,"/web/user/login"):triggerCustomerProfile(e,null==s||null===(l=s.data)||void 0===l||null===(l=l.signIn)||void 0===l||null===(l=l.token)||void 0===l?void 0:l.accessToken,o,i).then(function(c){var l;if(null!=c&&null!==(l=c.data)&&void 0!==l&&null!==(l=l.customerProfile)&&void 0!==l&&l.errorCode)location.href="/".concat(o,"/").concat(i,"/web/user/login");else{var u,d;setDataInStorageR4(c,s,i,a,o,e,n,t,r),setR3DataInStorage(e,n,a,o,c);var m=null==c||null===(u=c.data)||void 0===u||null===(u=u.customerProfile)||void 0===u||null===(u=u.customer)||void 0===u?void 0:u.accountNumber;sessionStorage.setItem("AccountNumber",m);var p=(null==s||null===(d=s.data)||void 0===d||null===(d=d.signIn)||void 0===d||null===(d=d.token)||void 0===d?void 0:d.prepaidToken)||"";sessionStorage.setItem("prepaidToken",p),location.href="/".concat(o,"/").concat(i,"/web/send-money/start")}}).catch(function(e){console.error("error from trigger customerProfile : ",e)})}).catch(function(e){console.error("error from trigger SingIn Session : ",e)})},setGatewayCustomer=function(e,n,t,r,o){var i,a,s,c,l,u,d,m,p,y,f,v,g,h={};if(null!=o&&null!==(i=o.gatewayCustomer)&&void 0!==i&&null!==(i=i.name)&&void 0!==i&&i.firstName){var C,S,b=null==o||null===(C=o.gatewayCustomer)||void 0===C||null===(C=C.name)||void 0===C?void 0:C.firstName,w=null==o||null===(S=o.gatewayCustomer)||void 0===S||null===(S=S.name)||void 0===S?void 0:S.lastName;h={firstName:b,lastName:w},window.sessionStorage.setItem("FirstName",b),window.sessionStorage.setItem("LastName",w)}var _={address:{addrLine1:null==o||null===(a=o.gatewayCustomer)||void 0===a||null===(a=a.address)||void 0===a?void 0:a.addrLine1,city:null==o||null===(s=o.gatewayCustomer)||void 0===s||null===(s=s.address)||void 0===s?void 0:s.city,countryIsoCode:null==o||null===(c=o.gatewayCustomer)||void 0===c||null===(c=c.address)||void 0===c?void 0:c.countryIsoCode,postalCode:null==o||null===(l=o.gatewayCustomer)||void 0===l||null===(l=l.address)||void 0===l?void 0:l.postalCode,state:null==o||null===(u=o.gatewayCustomer)||void 0===u||null===(u=u.address)||void 0===u?void 0:u.state},email:n.emailId,fbMsgEnabled:null==o||null===(d=o.gatewayCustomer)||void 0===d?void 0:d.fbMsgEnabled,mobilePhone:{phoneNumber:{}},name:h,preferredCustomer:{accountNbr:e},r3Login:null==o||null===(m=o.gatewayCustomer)||void 0===m?void 0:m.r3Login,termsConditionFlag:null==o||null===(p=o.gatewayCustomer)||void 0===p?void 0:p.termsConditionFlag,identityVerificationStatus:null==o||null===(y=o.gatewayCustomer)||void 0===y?void 0:y.identityVerificationStatus,verificationStatus:null==o||null===(f=o.gatewayCustomer)||void 0===f?void 0:f.verificationStatus,registrationDate:t,registrationStatus:null==o||null===(v=o.gatewayCustomer)||void 0===v?void 0:v.registrationStatus,additionalPreferredCustomers:{preferredCustomer:{accountNbr:e}},customerCategory:null==o||null===(g=o.gatewayCustomer)||void 0===g?void 0:g.customerCategory};window.sessionStorage.setItem("GatewayCustomer",JSON.stringify(_))},setR3SendeGatewayrDetails=function(e,n,t,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"sc_register_success";try{var s,c,l,u,d,m,p,y,f,v,g,h,C,S,b,w,_,A,I,E,L,P,k,x,T,N,D,O,R=null==i||null===(s=i.gatewayCustomer)||void 0===s||null===(s=s.preferredCustomer)||void 0===s?void 0:s.accountNbr,U=null==i||null===(c=i.gatewayCustomer)||void 0===c?void 0:c.registrationDate,F=null==i||null===(l=i.gatewayCustomer)||void 0===l?void 0:l.registrationStatus,q={};R&&(q={email:null==i||null===(u=i.gatewayCustomer)||void 0===u?void 0:u.email,verifyMfaFlow:"register",isSWBProfile:!1,fbMsgEnabled:null==i||null===(d=i.gatewayCustomer)||void 0===d?void 0:d.fbMsgEnabled,verificationStatus:null==i||null===(m=i.gatewayCustomer)||void 0===m?void 0:m.verificationStatus,termsConditionFlag:null==i||null===(p=i.gatewayCustomer)||void 0===p?void 0:p.termsConditionFlag,myWuNumber:R,isLoggedIn:!0,address:{addrLine1:null==i||null===(y=i.gatewayCustomer)||void 0===y||null===(y=y.address)||void 0===y?void 0:y.addrLine1,city:null==i||null===(f=i.gatewayCustomer)||void 0===f||null===(f=f.address)||void 0===f?void 0:f.city,countryIsoCode:null==i||null===(v=i.gatewayCustomer)||void 0===v||null===(v=v.address)||void 0===v?void 0:v.countryIsoCode,postalCode:null==i||null===(g=i.gatewayCustomer)||void 0===g||null===(g=g.address)||void 0===g?void 0:g.postalCode,state:null==i||null===(h=i.gatewayCustomer)||void 0===h||null===(h=h.address)||void 0===h?void 0:h.state},registrationDetails:{registrationDate:U,registrationStatus:F},mobileNumber:{},accountPreferences:{optInShape:null==i||null===(C=i.gatewayCustomer)||void 0===C||null===(C=C.accountPreferences)||void 0===C?void 0:C.optInShape,message:null==i||null===(S=i.gatewayCustomer)||void 0===S||null===(S=S.accountPreferences)||void 0===S?void 0:S.message,email:null==i||null===(b=i.gatewayCustomer)||void 0===b||null===(b=b.accountPreferences)||void 0===b?void 0:b.email,optOutMarketing:null==i||null===(w=i.gatewayCustomer)||void 0===w||null===(w=w.accountPreferences)||void 0===w?void 0:w.optOutMarketing,directMail:null==i||null===(_=i.gatewayCustomer)||void 0===_||null===(_=_.accountPreferences)||void 0===_?void 0:_.directMail,telephoneCall:null==i||null===(A=i.gatewayCustomer)||void 0===A||null===(A=A.accountPreferences)||void 0===A?void 0:A.telephoneCall,optInShare:null==i||null===(I=i.gatewayCustomer)||void 0===I||null===(I=I.accountPreferences)||void 0===I?void 0:I.optInShare,featureEnable:null==i||null===(E=i.gatewayCustomer)||void 0===E||null===(E=E.accountPreferences)||void 0===E?void 0:E.featureEnable},firstName:null==i||null===(L=i.gatewayCustomer)||void 0===L||null===(L=L.name)||void 0===L?void 0:L.firstName,lastName:null==i||null===(P=i.gatewayCustomer)||void 0===P||null===(P=P.name)||void 0===P?void 0:P.lastName,identityVerificationStatus:null==i||null===(k=i.gatewayCustomer)||void 0===k?void 0:k.identityVerificationStatus,verificationStatusActualVal:null==i||null===(x=i.gatewayCustomer)||void 0===x?void 0:x.verificationStatus,r3Login:null==i||null===(T=i.gatewayCustomer)||void 0===T?void 0:T.r3Login,registrationStatus:F,receiverCount:null==i||null===(N=i.gatewayCustomer)||void 0===N?void 0:N.receiverCount,transactionCount:null==i||null===(D=i.gatewayCustomer)||void 0===D?void 0:D.transactionCount,showThirdPartyConsentPopup:null==i||null===(O=i.gatewayCustomer)||void 0===O?void 0:O.showThirdPartyConsentPopup});var B={sessionId:e,encryptedSessionId:n,sender:q},M=JSON.stringify(B);window.sessionStorage.setItem("app",M),window.sessionStorage.setItem("AccountNumber",R),window.sessionStorage.setItem("cookiestore",M),window.sessionStorage.setItem(a,!0),CookieService.setCookie("SessionId",e,30,"/",!0,".westernunion.com"),CookieService.setCookie("EncryptedSessionId",n,30,"/".concat(t,"/").concat(r),!0,".westernunion.com"),setGatewayCustomer(R,o,U,t,i)}catch(e){console.log(e)}},setR3LoyalityCard=function(e){var n,t=null==e||null===(n=e.gateway_customer)||void 0===n||null===(n=n.additional_preferred_customers)||void 0===n?void 0:n.preferred_customer,r={};t.forEach(function(e){return r={accountNbr:null==e?void 0:e.account_nbr,issueDate:null==e?void 0:e.issue_date,lastUseDate:null==e?void 0:e.last_use_date,levelCode:null==e?void 0:e.level_code,totalPointsEarned:null==e?void 0:e.total_points_earned,promoCode:null==e?void 0:e.promo_code}});var o={gatewayCustomer:{additionalPreferredCustomers:{preferredCustomer:r}}};null!=e&&e.rewardList&&(o.rewardList=null==e?void 0:e.rewardList),window.sessionStorage.setItem("resLoyalityCard",JSON.stringify(o))},setR3CustomerVerificationStatus=function(e){var n,t,r={isEligibleToTransact:null==e?void 0:e.isEligibleToTransact,customerStatus:null==e?void 0:e.customerStatus,UnstructuredData:null==e?void 0:e.UnstructuredData,Status:{code:null==e||null===(n=e.Status)||void 0===n?void 0:n.code},wACH:null==e?void 0:e.wACH,paymentType:null==e||null===(t=e.paymentTypes)||void 0===t?void 0:t.payment_type,identityVerificationStatus:null==e?void 0:e.identity_verification_status};window.sessionStorage.setItem("CustomerVerificationStatus",JSON.stringify(r))},setDataInStorageR4=function(e,n,t,r,o,i,a,s,c){var l,u,d,m,p,y,f=(new Date).valueOf().toString();CookieService.setCookie("LangCode",t,365,"/"),CookieService.setCookie("SessionInfo",f,365,"/",!0,".westernunion.com"),CookieService.setCookie("UserID",r.emailId,365,"/"),CookieService.setCookie("NewUserCookie",!0,365,"/"),CookieService.setCookie("loggedIn",!0,365,"/"),CookieService.setCookie("CountryCode",o,365,"/"),CookieService.setCookie("userType","newCustomer",365,"/"),CookieService.setCookie("SessionId",i,365,"/",!0,".westernunion.com"),CookieService.setCookie("rodeoR4Experience","true",365,"/"),CookieService.setCookie("UserLocale","".concat(t,"-").concat(o.toUpperCase()),365,"/");var v=null==e||null===(l=e.data)||void 0===l||null===(l=l.customerProfile)||void 0===l||null===(l=l.customer)||void 0===l?void 0:l.registrationDate,g=null==n||null===(u=n.data)||void 0===u||null===(u=u.signIn)||void 0===u||null===(u=u.token)||void 0===u?void 0:u.expiresIn,h=null==n||null===(d=n.data)||void 0===d||null===(d=d.signIn)||void 0===d||null===(d=d.token)||void 0===d?void 0:d.accessToken,C=""!==g?(0,Date.now)()+1e3*parseInt(g):0,S=null==e||null===(m=e.data)||void 0===m||null===(m=m.customerProfile)||void 0===m||null===(m=m.customer)||void 0===m?void 0:m.accountNumber,b=(new Date).getTime()+9e5-5e3,w={expiresAt:(new Date).getTime()+6e5,accessToken:h},_={loginSuccess:{loggedIn:!0,gatewayCustomer:{email:r.emailId,preferred_customer:{account_nbr:S},gender:"",nationality:"",occupation:"",terms_condition_flag:!0,imageUrl:null,industry:null,registration_status:"P",name:{first_name:"",last_name:""},address:{country_iso_code:o},registration_date:v,identity_verification_status:"N",account_preferences:{email:!0,direct_mail:null,telephone_call:null,message:null,opt_out_marketing:!0,thirdparty_datasharing_consent:null}}},MYWU:{myWUDetails:{accountNumber:S,pointsEarned:0}},updatedUserDetails:{gatewayCustomer:{email:r.emailId,preferred_customer:{account_nbr:S},gender:"",nationality:"",occupation:"",terms_condition_flag:!0,imageUrl:null,industry:null,registration_status:"P",address:{country_iso_code:o},registration_date:v,identity_verification_status:"N",account_preferences:{email:!0,direct_mail:null,telephone_call:null,message:null,opt_out_marketing:!0,thirdparty_datasharing_consent:null}}},session:{session:{id:i,encrypted_session_id:a},data_center:c||"rs",client_ip:s,response_header:[],expiry:b},digitalCustomerProfile:{id:S,email:r.emailId,imageUrl:null,name:{first:"",last:"",middle:null,prefix:null,suffix:null,maternal:null,paternal:null},address:{city:null,stateCode:null,addressLine1:null,addressLine2:null,postalCode:null,countryCode:o.toUpperCase()},complianceData:{comments:null,complianceType:null,cuba:!1,docReceived:!1,documents:[],employerName:null,identityVerificationStatus:"N",maritalStatus:null,pepCategory:null,pepRelation:!1,personalIdentificationNumber:null,verifications:[]},countryOfBirth:null,credential:null,notification:{email:!0,mail:null,marketing:!0,optInShare:null,phone:null,sms:null,thirdpartyDatasharingConsent:null},payment:{wallets:null,cards:null,banks:null},accountNumber:S,occupation:null,employment:{industry:null,level:null,name:null,status:null},annualIncomeBracket:null,gender:null,nationality:null,dateOfBirth:null,placeOfBirth:null,registrationDate:v,registrationStatus:"P",termsConditions:!0,nameMatchIndicator:!1,optInReferAFriendFlag:null,phoneNumber:null},customerAccessToken:h,customerRefreshToken:{refreshToken:null==n||null===(p=n.data)||void 0===p||null===(p=p.signIn)||void 0===p||null===(p=p.token)||void 0===p?void 0:p.refreshToken,expiresIn:g,expireTime:C},account_login:r.emailId,user_journey:"sending_money",accesstoken:w,registrationDate:v,AccountNumber:S,Email:r.emailId},A=new Date((new Date).getTime()+18e5);sessionStorage.setItem("stateExpiredAt",A.getTime().toString()),window.sessionStorage.setItem("accesstoken",JSON.stringify(w)),window.sessionStorage.setItem("state",JSON.stringify(_)),window.sessionStorage.setItem("r4state",JSON.stringify(_)),setGatewayCustomer(S,r,v,null==o?void 0:o.toUpperCase());var I=null===(y=window)||void 0===y||null===(y=y.location)||void 0===y||null===(y=y.pathname)||void 0===y?void 0:y.split("/"),E=I&&I[1]||"";sessionStorage.setItem("sendercountry",E);var L=I&&I.length>=2&&I[2]||"";sessionStorage.setItem("countryLanguage",L)},triggerGetCustomerVerificationStatus=function(e,n,t,r){var o={security:{session:{id:e},client_ip:n,version:"2"},sender:{preferred_customer:{account_nbr:t}}},i={method:"POST",headers:{accept:"application/json, text/plain, */*","Content-Type":"application/json","accept-language":"en-US,en;q=0.9"},body:JSON.stringify(o)};return fetchApiWu("https://".concat(r,"/wudgtsrvs/mobiliser/rest/channel/GwpGetCustomerVerificationStatus?timestamp=").concat((new Date).getTime()),i,"GwpGetCustomerVerificationStatus")};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach(function(n){_defineProperty(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _defineProperty(e,n,t){return(n=_toPropertyKey(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _toPropertyKey(e){var n=_toPrimitive(e,"string");return"symbol"==_typeof(n)?n:n+""}function _toPrimitive(e,n){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}var triggerCustomerSignOn=function(e,n,t,r,o,i){var a=window.sessionStorage.getItem("blackBoxString"),s={gateway_customer:{identities:{identity:[{data:o.emailId,type:"USERNAME"},{data:o.password,type:"PASSWORD"}]}},analytics:{state:null,analytic_event:{fields:{field:[{name:"forgotPasswordFlag",value:"N"},{name:"loginErrorCount",value:"0"},{name:"siteInfoLoginUser",value:o.emailId},{name:"queryString",value:""},{name:"wuRevision",value:"Optimus"},{name:"codebase",value:""},{name:"lightboxFlag",value:"N"},{name:"siteCatalystVersion",value:""},{name:"forgotUsernameFlag",value:"N"}]}}},device:{id:"",type:"WEB"},external_reference_no:"1",channel:{name:"Western Union",type:"WEB",version:"9Z00",device_identifier:"RESPONSIVE_WEB"},security:{session:{id:t},client_ip:r,version:"2",black_box_data:_objectSpread(_objectSpread({},a&&{data:a}),{},{length:null!=a&&a.length?"".concat(null==a?void 0:a.length.toString()):"0"})},bashPath:"/".concat(e,"/").concat(n)},c={method:"POST",headers:{accept:"application/json, text/plain, */*","Content-Type":"application/json","accept-language":"en-US,en;q=0.9"},body:JSON.stringify(s)};return fetchApiWu("https://".concat(i,"/wuconnect/rest/api/v2.0/CustomerSignOn?timestamp=").concat((new Date).getTime()),c,"CustomerSignOn")},triggerGetLoyaltycards=function(e,n,t,r){var o={security:{session:{id:e},client_ip:n,version:"2"},gateway_customer:{preferred_customer:{account_nbr:t}},external_reference_no:"1"},i={method:"POST",headers:{accept:"application/json, text/plain, */*","Content-Type":"application/json","accept-language":"en-US,en;q=0.9"},body:JSON.stringify(o)};return fetchApiWu("https://".concat(r,"/wudgtsrvs/mobiliser/rest/channel/GwpGetLoyaltycards?timestamp=").concat((new Date).getTime()),i,"GwpGetLoyaltycards")},triggerGetTransactionDetails=function(e,n,t,r){var o={security:{session:{id:e},client_ip:n,version:"2"},type:"c",pageNumber:1,pageSize:10,id:t,groupBy:"",order:""},i={method:"POST",headers:{accept:"application/json, text/plain, */*","Content-Type":"application/json","accept-language":"en-US,en;q=0.9"},body:JSON.stringify(o)};return fetchApiWu("https://".concat(r,"/wudgtsrvs/mobiliser/rest/channel/GwpGetTransactionDetails?timestamp=").concat((new Date).getTime()),i,"GwpGetTransactionDetails")};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach(function(n){_defineProperty(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _defineProperty(e,n,t){return(n=_toPropertyKey(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _toPropertyKey(e){var n=_toPrimitive(e,"string");return"symbol"==_typeof(n)?n:n+""}function _toPrimitive(e,n){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}var triggerRouterSignInCustomer=function(e,n,t,r){var o=new Headers,i=n.toUpperCase();o.append("x-wu-operationname","signIn"),o.append("Content-Type","application/json"),o.append("x-wu-accesscode","RtYV3XDz9EA"),o.append("wucountrycode",i),o.append("wulanguagecode",t),o.append("x-wu-externalRefId","webapp-a0fe9872-a28e-47f6-a4a4-1401859647a7"),o.append("x-wu-correlationId","webapp-8db2ca9e-5c99-400f-8a46-439e9600555a"),o.append("x-wu-session-version","3"),o.append("version","V2"),o.append("x-wu-sessionId",e),o.append("x-wu-apiKey","1978"),o.append("accept-language","en-CA");var a=window.sessionStorage.getItem("blackBoxString"),s={profile:{email:r.emailId,credentials:{password:r.password}},session:{captcha:{},channel:{type:"WEB",name:"Western Union",version:"9Z00",isResponsive:"true",deviceIdentifier:"RESPONSIVE_MOB"},security:{session:{id:e},blackBoxData:_objectSpread(_objectSpread({id:"101569194"},a&&{data:a}),{},{length:null!=a&&a.length?"".concat(null==a?void 0:a.length.toString()):"0"})}}},c=JSON.stringify({query:signInQuery,variables:{signInReq:s}});return fetchApiWu(routerUrl,{method:"POST",headers:o,body:c,redirect:"follow"},"signIn").catch(function(e){return console.log("triggerRouterSignCustomer Data not found: ",e)})},registerApiQuery="\nmutation addCustomer($args_createCustomer: AddCustomerInput) {\n  addCustomer(input: $args_createCustomer) {\n    __typename\n    ... on SuccessResponse {\n      status\n      message\n    }\n    ... on ErrorResponse {\n      correlationId\n      errorCode\n      issues {\n        field\n        issue\n      }\n      legacyError\n      message\n      name\n      priority\n    }\n    ... on CaptchaResponse {\n      error {\n        errorCode\n        message\n      }\n      captcha {\n        image\n        sound\n        clearScreen\n        answer\n      }\n    }\n    ... on SignInResponse {\n      access_token\n      token_type\n      refresh_token\n      scope\n      id_token\n      expires_in\n      session_token\n      pcp_number\n    }\n    ... on SignInOtpResponse {\n      profile {\n        transactionCount\n      }\n      tokenResponse {\n        access_token\n        id_token\n        factor {\n          factorStatus\n          factorType\n          factorValue\n        }\n        error {\n          errorCode\n          errorMessage\n        }\n      }\n    }\n    ... on OtpResponse {\n      captcha {\n        answer\n        clearScreen\n        image\n        sound\n      }\n      error {\n        err: errorCode\n        priority\n        errorName\n        errorMessage\n        correlationI\n        legacyError\n        details {\n          code\n          message\n          primary\n          source\n        }\n        suggestedActions\n        type\n        httpStatus\n        errorType\n      }\n      msg: message\n      status\n      factor {\n        id\n        factorType\n        factorValue\n        factorStatus\n      }\n    }\n  }\n}",signInQuery="\nquery  signIn( $signInReq:SignInInput, ) { signIn(input: $signInReq) {\n__typename\n... on SignInResponse {\nprofile {\n  ap\n  subscription {\n    campaignName\n    endDate\n    subscriptionId\n  }\n  transactionCount\n}\ntoken {\n  accessToken\n  refreshToken\n  expiresIn\n  idToken\n  prepaidToken\n}\n}\n... on RedirectionResponse {\ncountry\nerror {\n  correlationId\n  errorCode\n  issues {\n    field\n    issue\n  }\n  legacyError\n  message\n  name\n  priority\n}\ntoken {\n  access_token\n  expires_in\n  id_token\n  pcp_number\n  refresh_token\n  scope\n  session_token\n  subscription {\n      campaignName\n      endDate\n      subscriptionId\n  }\n  token_type\n  transactionCount\n\n  profile {\n    ap\n    subscription {\n      campaignName\n      endDate\n      subscriptionId\n    }\n    transactionCount\n  }\n  token {\n    accessToken\n    refreshToken\n    expiresIn\n    idToken\n    prepaidToken\n  }\n}\n}\n\n... on ErrorResponse {\ncorrelationId\nerrorCode\nissues {\nfield\nissue            \n}\nlegacyError\nmessage\nname\npriority\n}\n... on CaptchaResponse {\nerror {\n  errorCode\n  message\n}\ncaptcha {\n  image\n  sound\n  clearScreen\n  answer\n}\n}\n} }",customerQuery="query customer { \ncustomer  {\n__typename\n... on CustomerResponse {\n    customer {\n      id\n      email\n      imageUrl\n      name {\n        first\n        last\n        middle\n        prefix\n        suffix\n        maternal\n        paternal\n      }\n      address {\n        city\n        stateCode\n        addressLine1\n        addressLine2\n        postalCode\n        countryCode\n      }\n      complianceData {\n        comments\n        complianceType\n        cuba\n        docReceived\n        documents {\n          birthPlace\n          dmsReferenceNumber\n          docLevel\n          docNumber\n          cardRefNumber\n          docSubType\n          docType\n          docVerificationStatus\n          expirationDate\n          expired\n          familyName\n          issueAgency\n          issueCountry\n          issueDate\n          issuePlace\n          issueState\n          issuer\n          ocrFormStatus\n          primary\n          verificationApprovedTime\n        }\n        employerName\n        identityVerificationStatus\n        maritalStatus\n        pepCategory\n        pepRelation\n        personalIdentificationNumber\n        verifications {\n          lastUpdated\n          status\n          type\n        }\n      }\n      countryOfBirth\n      credential {\n        securityQuestions {\n          question\n          answer\n        }\n      }\n      notification {\n        email \n        mail \n        marketing \n        optInShare \n        phone\n        sms\n        thirdpartyDatasharingConsent \n      }\n      payment {\n        wallets {\n          currency\n          reason\n          serviceProviderCode\n          serviceProviderName\n        }\n        cards {\n          id\n          paymentInstrumentId\n          category\n          number\n          nickName\n          expirationDate\n          type\n          cardScanned\n          consent\n          consentRefId\n          bin\n          address {\n            city\n            stateCode\n            addressLine1\n            addressLine2\n            postalCode\n            countryCode\n          }\n        }\n        banks {\n          id\n          paymentInstrumentId\n          name\n          nickName\n          accountNumber\n          routingNumber\n          accountType\n          type\n          code\n          branchCode\n          swiftCode\n          sortCode\n          network\n          financialId\n          currencyCode\n          address {\n            city\n            stateCode\n            addressLine1\n            addressLine2\n            postalCode\n            countryCode\n          }\n        }\n      }\n      accountNumber\n      occupation\n      employment {\n        industry\n        level\n        name\n        status\n      }\n      annualIncomeBracket\n      gender\n      nationality\n      dateOfBirth\n      placeOfBirth\n      registrationDate\n      registrationStatus\n      termsConditions\n      nameMatchIndicator\n      optInReferAFriendFlag\n      phoneNumber {\n        type\n        number\n        countryCode\n        isVerified\n      }\n    }\n  receiver {\n    customers {\n      type\n      id\n      email\n      name {\n        first\n        last\n        middle\n        prefix\n        suffix\n        maternal\n        paternal\n      }\n      address {\n        city\n        stateCode\n        addressLine1\n        addressLine2\n        postalCode\n        countryCode\n      }\n      payment {\n        banks {\n          accountNumber\n          accountType\n          branchCode\n          code\n          currencyCode\n          financialId\n          id\n          name\n          network\n          nickName\n          routingNumber\n          sortCode\n          swiftCode\n          reason\n          selectedAccountType\n          upiId\n        }\n        wallets {\n          currency\n          reason\n          serviceProviderCode\n          serviceProviderName\n          walletAccountNumber\n      }\n        cards{\n          number\n          type\n        }\n      }\n      accountNumber\n      occupation\n      gender\n      nationality\n      dateOfBirth\n      placeOfBirth\n      registrationDate\n      registrationStatus\n      termsConditions\n      nameMatchIndicator\n      phoneNumber {\n        type\n        number\n        countryCode\n      }\n       \n    }\n    billers {\n      code\n      currencyIsoCode\n      countryIsoCode\n      industry\n      activeFlag\n      prePaid\n      preConfig\n      accountRequired\n      language\n      category\n      billerType\n      contracted\n      groupByBiller\n      template\n      fraudWarningConsentRequired\n      id\n      uid\n      billerName\n      accountNumber\n    }\n  }\n}\n... on ErrorResponse {\n  message\n  errorCode\n  name\n  priority\n  legacyError\n  correlationId\n  issues {\n    field\n    issue\n  }\n}\n}}",verificationStatusQuery="query  verificationStatus( $req_VerificationStatusInput:VerificationStatusInput, ) { \nverificationStatus (\n  input: $req_VerificationStatusInput\n) {\n__typename\n... on ErrorResponse {\n    correlationId\n    errorCode\n    issues {\n        field\n        issue\n    }\n    legacyError\n    message\n    name\n    priority\n}\n... on VerificationStatusResponse {\n    customer {\n        accountNumber\n        address {\n            addressLine1\n            addressLine2\n            city\n            countryCode\n            postalCode\n            stateCode\n        }\n        complianceData {\n            comments\n            complianceType\n            cuba\n            docReceived\n            documents {\n                birthPlace\n                dmsReferenceNumber\n                docLevel\n                docNumber\n                docSubType\n                docType\n                docVerificationStatus\n                expirationDate\n                expired\n                familyName\n                issueAgency\n                issueCountry\n                issueDate\n                issuePlace\n                issuer\n                ocrFormStatus\n                primary\n                verificationApprovedTime\n            }\n            employerName\n            identityVerificationStatus\n            maritalStatus\n            pepCategory\n            pepRelation\n            personalIdentificationNumber\n            verifications {\n                lastUpdated\n                status\n                type\n            }\n        }\n        complianceVerificationDetail {\n            status\n            type\n        }\n        countryOfBirth\n    \n        customerLevelCode\n        customerType\n        dateOfBirth\n        email\n        employment {\n            industry\n            level\n            status\n        }\n        flowName\n        galacticId\n        gender\n        id\n        imageUrl\n        name {\n            first\n            last\n            maternal\n            middle\n            paternal\n            prefix\n            suffix\n        }\n        nameMatchIndicator\n        nationality\n        occupation\n        payment {\n            banks {\n                accHolderName {\n                    first\n                    last\n                    maternal\n                    middle\n                    paternal\n                    prefix\n                    suffix\n                }\n                accountNumber\n                accountType\n                address {\n                    addressLine1\n                    addressLine2\n                    city\n                    countryCode\n                    postalCode\n                    stateCode\n                }\n                bankLocation\n                branchCode\n                code\n                currencyCode\n                financialId\n                id\n                name\n                network\n                nickName\n                paymentInstrumentId\n                reason\n                routingNumber\n                selectedAccountType\n                sortCode\n                swiftCode\n                upiId\n            }\n            cards {\n                address {\n                    addressLine1\n                    addressLine2\n                    city\n                    countryCode\n                    postalCode\n                    stateCode\n                }\n                bin\n                cardScanned\n                category\n                consent\n                consentRefId\n                currency\n                digest\n                doZda\n                expirationDate\n                id\n                jumio\n                nickName\n                number\n                paymentInstrumentId\n                reason\n                type\n            }\n            wallets {\n                currency\n                reason\n                serviceProviderCode\n                serviceProviderName\n                walletAccountNumber\n            }\n        }\n        phoneNumber {\n            countryCode\n            number\n            type\n        }\n        placeOfBirth\n        pointsEarned\n        progressiveRegistration\n        receiverDigest\n        registrationDate\n        registrationStatus\n        stateOfBirth\n        termsConditions\n        type\n        uid\n        validationRequired\n    }\n    receiver {\n        uid\n        id\n        name {\n          first\n          last\n        }\n        address {\n          addressLine1\n          addressLine2\n          city\n          stateCode\n          postalCode\n          countryCode\n        }\n        phoneNumber {\n          type\n          countryCode\n          number\n        }\n    }\n    customerStatus\n    encryptedData\n    identityVerificationStatus\n    isEligibleToTransact\n    kyc {\n        duc {\n            ducDelivery {\n                available\n                ducDocuments {\n                    data\n                    dmsRef\n                    docType\n                    kycStatus\n                    type\n                }\n            }\n        }\n        dur {\n            durDelivery {\n                available\n                durDocTypes {\n                    durDocType\n                }\n            }\n        }\n        pbv {\n            deliveryMethods {\n                emailDelivery {\n                    available\n                    email\n                    emailDigest\n                }\n                smsDelivery {\n                    available\n                    phoneDigest\n                    phoneNumber {\n                        countryCode\n                        number\n                        type\n                    }\n                }\n                voiceDelivery {\n                    available\n                    phoneDigest\n                    phoneNumber {\n                        countryCode\n                        number\n                        type\n                    }\n                }\n            }\n            status\n            pin\n            status\n        }\n        pwm {\n            data {\n                dataName\n                dataValue\n            }\n            pwmDelivery {\n                available\n            }\n            status\n        }\n        sd {\n            data {\n                dataName\n                dataValue\n            }\n            initiationTimestamp\n            mtcn\n            status\n        }\n        skc {\n            deliveryMethod {\n                additionalInformation {\n                    param {\n                        type\n                        value\n                    }                             \n                }\n                available\n                skcDocuments {\n                    data\n                    docType\n                    type\n                }\n            }\n        }\n        txm {\n            data {\n                dataName\n                dataValue\n            }\n            initiationTimestamp\n            status\n            txmDelivery {\n                available\n                phoneDigest\n                phoneNumber {\n                    countryCode\n                    number\n                    type\n                }\n            }\n        }\n        vwa {\n            data {\n                dataName\n                dataValue\n            }\n            initiationTimestamp\n            status\n            vwaDelivery {\n                available\n                phoneDigest\n                phoneNumber {\n                    countryCode\n                    number\n                    type\n                }\n            }\n        }\n    }\n    moneyTransferControl {\n        date\n        filterPIIData\n        mtcn\n        mtcnCreationDate\n    }\n    paymentDetails {\n        card {\n            address {\n                addressLine1\n                addressLine2\n                city\n                countryCode\n                postalCode\n                stateCode\n            }\n            bin\n            cardScanned\n            category\n            consent\n            consentRefId\n            currency\n            digest\n            doZda\n            expirationDate\n            id\n            jumio\n            nickName\n            number\n            paymentInstrumentId\n            reason\n            type\n        }\n        destination {\n            actualPayoutAmount\n            countryIsoCode\n            currencyIsoCode\n            expectedPayoutAmount\n            expectedPayoutAmountLong\n            splitPayOut {\n                countryIsoCode\n                currencyIsoCode\n                exchangeRate\n                expectedPayoutAmount\n            }\n        }\n        exchangeRate\n        fee {\n            accuracy\n            charges\n        }\n        origination {\n            countryIsoCode\n            currencyIsoCode\n            grossAmount\n            principalAmount\n        }\n        paymentDigest\n        paymentType\n        promotion {\n            code\n            description\n            discountFee\n            discountInfo\n            finalFee\n            initialFee\n            message\n            name\n            promoCode\n            status\n        }\n    }\n    paymentTypes\n    pepStatus\n    product{\n        code\n    }\n    token\n    tokenTimeInMinutes\n    transactionCompliance {\n        dateOfBirth\n        documents {\n            birthPlace\n            dmsReferenceNumber\n            docLevel\n            docNumber\n            docSubType\n            docType\n            docVerificationStatus\n            expirationDate\n            expired\n            familyName\n            issueAgency\n            issueCountry\n            issueDate\n            issuePlace\n            issuer\n            ocrFormStatus\n            primary\n            verificationApprovedTime\n        }\n        identificationQuestion {\n            answer\n            question\n        }\n        purposeOfTransaction\n        relationshipToReceiver\n        sourceOfFunds\n    }\n    transactionId\n    trdCounter\n    docUploadRequired {\n        slaTimestamp\n        additionalDocs {\n            docType\n            reason\n        }\n    }\n    customerVerifyResponse {\n        issues {\n            code\n            issue\n        }\n    }\n}\n}\n}\n",verifyRecoveryFactorQuery="query verifyRecoveryFactor($args_RecoveryFactorsInput: RecoveryFactorsInput) {\nverifyRecoveryFactor(input: $args_RecoveryFactorsInput) {\n__typename\n... on SuccessResponse {\n  id\n  message\n  status\n}\n... on ErrorResponse {\n  correlationId\n  errorCode\n  issues {\n    field\n    issue\n    code\n    message\n  }\n  legacyError\n  message\n  name\n  priority\n  stack\n}\n}\n}\n",resendRecoveryFactoryQuery="query resendRecoveryFactor($args_ResendRecoveryFactorInput: SenderInput) {\nresendRecoveryFactor(input: $args_ResendRecoveryFactorInput) {\n__typename\n... on sendRecoveryFactorResponse {\n  redirectionError {\n    code\n    message\n    countryCode\n  }\n  factor {\n    id\n    factorType\n    factorValue\n    factorStatus\n  }\n  msg: message\n  status\n}\n... on ErrorResponse {\n  correlationId\n  errorCode\n  issues {\n    field\n    issue\n    code\n    message\n  }\n  legacyError\n  message\n  name\n  priority\n  stack\n}\n}\n}\n",triggerCustomerProfile=function(e,n,t,r){var o=new Headers,i=t.toUpperCase(),a="web-"+generateUniqueID(),s="web-"+generateUniqueID();o.append("x-wu-operationname","customerProfile"),o.append("Content-Type","application/json"),o.append("x-wu-accesscode","RtYV3XDz9EA"),o.append("wucountrycode",i),o.append("wulanguagecode",r),o.append("x-wu-externalRefId",a),o.append("x-wu-correlationId",s),o.append("flowName","PRE_REGISTRATION"),o.append("x-wu-session-version","2"),o.append("version","V2"),o.append("x-wu-sessionId",e),o.append("x-wu-apiKey","1978"),o.append("accept-language","en-".concat(i)),o.append("authorization","Bearer ".concat(n));var c=JSON.stringify({query:customerProfileGraphqlQuery});return fetchApiWu(routerUrl,{method:"POST",headers:o,body:c,redirect:"follow"},"customerProfile").then(function(e){return Promise.resolve(e)}).catch(function(e){return console.log("triggerRouterAddCustomer Data not found: ",e)})},customerProfileGraphqlQuery="\n    query {\n        customerProfile  {\n            __typename\n            ... on CustomerResponse {\n                customer { \n                    accountNumber\n                    address { \n                        addressLine1\n                        addressLine2\n                        city\n                        country\n                        addressType\n                        countryCode\n                        postalCode\n                        rawAddress\n                        stateCode\n                        stateName\n                        type\n                        fullAddress\n                        streetNumber\n                        postalType\n                        postalNumber\n                        buildingName\n                        subdwelling\n                        attributes { \n                            CountryIso2\n                            CountryIso3\n                            City\n                            DomesticId\n                            DataLevel\n                            ProvinceName\n                            Type\n                            Language\n                            SortingNumber1\n                            LanguageAlternatives\n                            Barcode\n                            ProvinceCode\n                            CountryIsoNumber\n                            Neighbourhood\n                            AdminAreaName\n                            Company\n                            Line1\n                            Line2\n                            Line3\n                            Line4\n                        }\n                        id\n                        district\n                        province\n                        permanentAddress { \n                            addressLine1\n                            addressLine2\n                            city\n                            country\n                            addressType\n                            countryCode\n                            postalCode\n                            rawAddress\n                            stateCode\n                            stateName\n                            type\n                            fullAddress\n                            streetNumber\n                            postalType\n                            postalNumber\n                            buildingName\n                            subdwelling\n                            attributes { \n                                CountryIso2\n                                CountryIso3\n                                City\n                                DomesticId\n                                DataLevel\n                                ProvinceName\n                                Type\n                                Language\n                                SortingNumber1\n                                LanguageAlternatives\n                                Barcode\n                                ProvinceCode\n                                CountryIsoNumber\n                                Neighbourhood\n                                AdminAreaName\n                                Company\n                                Line1\n                                Line2\n                                Line3\n                                Line4\n                            }\n                            id\n                            district\n                            province\n                            permanentAddress { \n                                addressLine1\n                                addressLine2\n                                city\n                                country\n                                addressType\n                                countryCode\n                                postalCode\n                                rawAddress\n                                stateCode\n                                stateName\n                                type\n                                fullAddress\n                                streetNumber\n                                postalType\n                                postalNumber\n                                buildingName\n                                subdwelling\n                                id\n                                district\n                                province\n                                streetLine1\n                                streetLine2\n                                cityTown\n                                stateProvince\n                                zipPostalCode\n                                state\n                            }\n                            addressVerification { \n                                status\n                                statusBy\n                                updatedDate\n                                expiryDate\n                                pin\n                            }\n                            streetLine1\n                            streetLine2\n                            cityTown\n                            stateProvince\n                            zipPostalCode\n                            state\n                        }\n                        addressVerification { \n                            status\n                            statusBy\n                            updatedDate\n                            expiryDate\n                            pin\n                        }\n                        streetLine1\n                        streetLine2\n                        cityTown\n                        stateProvince\n                        zipPostalCode\n                        state\n                    }\n                    complianceData { \n                        comments\n                        complianceType\n                        cuba\n                        docReceived\n                        documents { \n                            birthPlace\n                            cardRefNumber\n                            dmsReferenceNumber\n                            paDmsReferenceNumber\n                            dobMatch\n                            docLevel\n                            docName\n                            docNumber\n                            docNumberMatch\n                            docSubType\n                            docType\n                            docVerificationStatus\n                            expirationDate\n                            expired\n                            isExpired\n                            isPrimary\n                            familyName\n                            idType\n                            idvvApprovedTs\n                            idvvStatus\n                            iso2Code\n                            issueAgency\n                            issueAuthority\n                            issueCountry\n                            issueDate\n                            issuePlace\n                            issueState\n                            issuer\n                            mrzCode\n                            ocrCode\n                            ocrFormStatus\n                            primary\n                            verificationApprovedTime\n                            idvvSubStatus\n                            attachedDocuments { \n                                binary\n                                imageUrl\n                                fileName\n                                format\n                                pageNum\n                                rotationDegree\n                                imageBinary\n                            }\n                            vendorRefNumber\n                            imageProcessedFront\n                            isDocActive\n                            workflowId\n                            accountId\n                            kycFormStatus\n                            retailVerifiedFlag\n                            lastUpdated\n                            channelType\n                        }\n                        employerName\n                        identityVerificationStatus\n                        maritalStatus\n                        pepCategory\n                        pepRelation\n                        personalIdentificationNumber\n                        verifications { \n                            lastUpdated\n                            status\n                            type\n                        }\n                        version\n                        addressVerified\n                        addressVerificationDocName\n                        addressVerificationDocType\n                        addressVerificationDocNumber\n                        addressVerificationDocIssuer\n                        addressVerificationDocIssueDate\n                        kycConsentFlag\n                        cubaQuestions { \n                            affidavitType\n                            question1\n                            question2\n                            question3\n                            question4\n                            question5\n                            question6\n                            question7\n                            question8\n                            question9\n                            question10\n                            question11\n                            question12\n                            question13\n                            question14\n                            question15\n                            question16\n                            question17\n                            question18\n                            question19\n                        }\n                    }\n                    complianceVerificationDetail { \n                        channelType\n                        status\n                        type\n                    }\n                    countryOfBirth\n                    credential { \n                        password\n                        securityQuestions { \n                            answer\n                            question\n                        }\n                    }\n                    customerInWallet\n                    customerLevelCode\n                    customerType\n                    dateOfBirth\n                    email\n                    employment { \n                        industry\n                        level\n                        name\n                        status\n                    }\n                    flowName\n                    galacticId\n                    galacticIdUpdatedDate\n                    gender\n                    id\n                    imageUrl\n                    myWuMemberFlag\n                    name { \n                        first\n                        middle\n                        last\n                        secondLast\n                        nameType\n                        maternal\n                        paternal\n                        prefix\n                        suffix\n                        givenName\n                        firstName\n                        lastName\n                        displayName\n                        paternalName\n                        maternalName\n                        companyName\n                        attentionCodeCity\n                    }\n                    nameMatchIndicator\n                    nationality\n                    newPointsEarned\n                    notification { \n                        email\n                        featureEnable\n                        mail\n                        marketing\n                        optInShape\n                        optInShare\n                        optInPartnerOffers\n                        phone\n                        sms\n                        thirdPartyDataConsent\n                        thirdpartyDatasharingConsent\n                        prefLanguageCode\n                    }\n                    occupation\n                    payment { \n                        banks { \n                            accHolderName { \n                                first\n                                middle\n                                last\n                                secondLast\n                                nameType\n                                maternal\n                                paternal\n                                prefix\n                                suffix\n                                givenName\n                                firstName\n                                lastName\n                                displayName\n                                paternalName\n                                maternalName\n                                companyName\n                                attentionCodeCity\n                            }\n                            accountNumber\n                            accountType\n                            nationalIdentificationNumber\n                            address { \n                                addressLine1\n                                addressLine2\n                                city\n                                country\n                                addressType\n                                countryCode\n                                postalCode\n                                rawAddress\n                                stateCode\n                                stateName\n                                type\n                                fullAddress\n                                streetNumber\n                                postalType\n                                postalNumber\n                                buildingName\n                                subdwelling\n                                id\n                                district\n                                province\n                                streetLine1\n                                streetLine2\n                                cityTown\n                                stateProvince\n                                zipPostalCode\n                                state\n                            }\n                            bankLocation\n                            branchCode\n                            code\n                            currencyCode\n                            financialId\n                            id\n                            name\n                            network\n                            nickName\n                            paymentInstrumentId\n                            prefix\n                            reason\n                            routingNumber\n                            selectedAccountType\n                            sortCode\n                            suffix\n                            swiftCode\n                            type\n                            upiId\n                            accessToken\n                            itemId\n                            pwmbInfo { \n                                pwmbAccountDigest\n                                accessId\n                                merchantId\n                                merchantReference\n                                signature\n                                pwmbResponse\n                                pwmbTransactionId\n                            }\n                        }\n                        cards { \n                            address { \n                                addressLine1\n                                addressLine2\n                                city\n                                country\n                                addressType\n                                countryCode\n                                postalCode\n                                rawAddress\n                                stateCode\n                                stateName\n                                type\n                                fullAddress\n                                streetNumber\n                                postalType\n                                postalNumber\n                                buildingName\n                                subdwelling\n                                id\n                                district\n                                province\n                                streetLine1\n                                streetLine2\n                                cityTown\n                                stateProvince\n                                zipPostalCode\n                                state\n                            }\n                            bin\n                            cardScanned\n                            category\n                            consent\n                            consentRefId\n                            currency\n                            digest\n                            doZda\n                            expirationDate\n                            id\n                            jumio\n                            name { \n                                first\n                                middle\n                                last\n                                secondLast\n                                nameType\n                                maternal\n                                paternal\n                                prefix\n                                suffix\n                                givenName\n                                firstName\n                                lastName\n                                displayName\n                                paternalName\n                                maternalName\n                                companyName\n                                attentionCodeCity\n                            }\n                            nickName\n                            number\n                            paymentInstrumentId\n                            reason\n                            type\n                            suggestedCountry\n                        }\n                        wallets { \n                            currency\n                            reason\n                            serviceProviderCode\n                            serviceProviderName\n                            walletAccountNumber\n                        }\n                        wuPay { \n                            referenceNumber\n                            gmoBranchCode\n                            gmoBranchName\n                        }\n                    }\n                    phoneNumber { \n                        countryCode\n                        number\n                        type\n                        isVerified\n                        phoneType\n                        phoneNumber\n                    }\n                    placeOfBirth\n                    pointsEarned\n                    progressiveRegistration\n                    receiverDigest\n                    receiverNumber\n                    receiverType\n                    registrationDate\n                    registrationStatus\n                    stateOfBirth\n                    termsConditions\n                    type\n                    uid\n                    validationRequired\n                    optInReferAFriendFlag\n                    imageBinary\n                    relationshipToSender\n                    emailVerificationStatus\n                    consumerToBusinessName\n                    consumerToBusinessReference\n                    isResident\n                    annualIncome\n                    annualIncomeCurrency\n                    annualIncomeBracket\n                    subscriptions { \n                        campaignName\n                        endDate\n                        subscriptionId\n                    }\n                    receiverNationalId\n                    consumerToBusiness { \n                        name\n                        reference\n                    }\n                    partner { \n                        name\n                        terminalId\n                        partnerId\n                    }\n                    lastUpdateTimeStamp\n                    captcha { \n                        answer\n                        clearScreen\n                        image\n                        sound\n                        recaptcha\n                    }\n                    umnHash\n                    profileReconfirmation\n                    debitCardToken\n                    permanentCountry\n                    kycNotification { \n                        kycNotificationMethod\n                        kycNotificationValue { \n                            email\n                            phone\n                        }\n                        kycNotificationVendor\n                    }\n                    referralDetails { \n                        referralCode\n                        referralSite\n                    }\n                    referenceId\n                    customerDigest\n                    updateSenderAssociateFlag\n                }\n                receiver { \n                    billers { \n                        accountNumber\n                        accountRequired\n                        activeFlag\n                        billerName\n                        billerType\n                        category\n                        code\n                        contracted\n                        countryIsoCode\n                        currencyIsoCode\n                        fraudWarningConsentRequired\n                        groupByBiller\n                        id\n                        industry\n                        language\n                        preConfig\n                        prePaid\n                        template\n                        uid\n                    }\n                    customers { \n                        accountNumber\n                        address { \n                            addressLine1\n                            addressLine2\n                            city\n                            country\n                            addressType\n                            countryCode\n                            postalCode\n                            rawAddress\n                            stateCode\n                            stateName\n                            type\n                            fullAddress\n                            streetNumber\n                            postalType\n                            postalNumber\n                            buildingName\n                            subdwelling\n                            attributes { \n                                CountryIso2\n                                CountryIso3\n                                City\n                                DomesticId\n                                DataLevel\n                                ProvinceName\n                                Type\n                                Language\n                                SortingNumber1\n                                LanguageAlternatives\n                                Barcode\n                                ProvinceCode\n                                CountryIsoNumber\n                                Neighbourhood\n                                AdminAreaName\n                                Company\n                                Line1\n                                Line2\n                                Line3\n                                Line4\n                            }\n                            id\n                            district\n                            province\n                            permanentAddress { \n                                addressLine1\n                                addressLine2\n                                city\n                                country\n                                addressType\n                                countryCode\n                                postalCode\n                                rawAddress\n                                stateCode\n                                stateName\n                                type\n                                fullAddress\n                                streetNumber\n                                postalType\n                                postalNumber\n                                buildingName\n                                subdwelling\n                                id\n                                district\n                                province\n                                streetLine1\n                                streetLine2\n                                cityTown\n                                stateProvince\n                                zipPostalCode\n                                state\n                            }\n                            addressVerification { \n                                status\n                                statusBy\n                                updatedDate\n                                expiryDate\n                                pin\n                            }\n                            streetLine1\n                            streetLine2\n                            cityTown\n                            stateProvince\n                            zipPostalCode\n                            state\n                        }\n                        complianceData { \n                            comments\n                            complianceType\n                            cuba\n                            docReceived\n                            documents { \n                                birthPlace\n                                cardRefNumber\n                                dmsReferenceNumber\n                                paDmsReferenceNumber\n                                dobMatch\n                                docLevel\n                                docName\n                                docNumber\n                                docNumberMatch\n                                docSubType\n                                docType\n                                docVerificationStatus\n                                expirationDate\n                                expired\n                                isExpired\n                                isPrimary\n                                familyName\n                                idType\n                                idvvApprovedTs\n                                idvvStatus\n                                iso2Code\n                                issueAgency\n                                issueAuthority\n                                issueCountry\n                                issueDate\n                                issuePlace\n                                issueState\n                                issuer\n                                mrzCode\n                                ocrCode\n                                ocrFormStatus\n                                primary\n                                verificationApprovedTime\n                                idvvSubStatus\n                                vendorRefNumber\n                                imageProcessedFront\n                                isDocActive\n                                workflowId\n                                accountId\n                                kycFormStatus\n                                retailVerifiedFlag\n                                lastUpdated\n                                channelType\n                            }\n                            employerName\n                            identityVerificationStatus\n                            maritalStatus\n                            pepCategory\n                            pepRelation\n                            personalIdentificationNumber\n                            verifications { \n                                lastUpdated\n                                status\n                                type\n                            }\n                            version\n                            addressVerified\n                            addressVerificationDocName\n                            addressVerificationDocType\n                            addressVerificationDocNumber\n                            addressVerificationDocIssuer\n                            addressVerificationDocIssueDate\n                            kycConsentFlag\n                            cubaQuestions { \n                                affidavitType\n                                question1\n                                question2\n                                question3\n                                question4\n                                question5\n                                question6\n                                question7\n                                question8\n                                question9\n                                question10\n                                question11\n                                question12\n                                question13\n                                question14\n                                question15\n                                question16\n                                question17\n                                question18\n                                question19\n                            }\n                        }\n                        complianceVerificationDetail { \n                            channelType\n                            status\n                            type\n                        }\n                        countryOfBirth\n                        credential { \n                            password\n                            securityQuestions { \n                                answer\n                                question\n                            }\n                        }\n                        customerInWallet\n                        customerLevelCode\n                        customerType\n                        dateOfBirth\n                        email\n                        employment { \n                            industry\n                            level\n                            name\n                            status\n                        }\n                        flowName\n                        galacticId\n                        galacticIdUpdatedDate\n                        gender\n                        id\n                        imageUrl\n                        myWuMemberFlag\n                        name { \n                            first\n                            middle\n                            last\n                            secondLast\n                            nameType\n                            maternal\n                            paternal\n                            prefix\n                            suffix\n                            givenName\n                            firstName\n                            lastName\n                            displayName\n                            paternalName\n                            maternalName\n                            companyName\n                            attentionCodeCity\n                        }\n                        nameMatchIndicator\n                        nationality\n                        newPointsEarned\n                        notification { \n                            email\n                            featureEnable\n                            mail\n                            marketing\n                            optInShape\n                            optInShare\n                            optInPartnerOffers\n                            phone\n                            sms\n                            thirdPartyDataConsent\n                            thirdpartyDatasharingConsent\n                            prefLanguageCode\n                        }\n                        occupation\n                        payment { \n                            banks { \n                                accountNumber\n                                accountType\n                                nationalIdentificationNumber\n                                bankLocation\n                                branchCode\n                                code\n                                currencyCode\n                                financialId\n                                id\n                                name\n                                network\n                                nickName\n                                paymentInstrumentId\n                                prefix\n                                reason\n                                routingNumber\n                                selectedAccountType\n                                sortCode\n                                suffix\n                                swiftCode\n                                type\n                                upiId\n                                accessToken\n                                itemId\n                            }\n                            cards { \n                                bin\n                                cardScanned\n                                category\n                                consent\n                                consentRefId\n                                currency\n                                digest\n                                doZda\n                                expirationDate\n                                id\n                                jumio\n                                nickName\n                                number\n                                paymentInstrumentId\n                                reason\n                                type\n                                suggestedCountry\n                            }\n                            wallets { \n                                currency\n                                reason\n                                serviceProviderCode\n                                serviceProviderName\n                                walletAccountNumber\n                            }\n                            wuPay { \n                                referenceNumber\n                                gmoBranchCode\n                                gmoBranchName\n                            }\n                        }\n                        phoneNumber { \n                            countryCode\n                            number\n                            type\n                            isVerified\n                            phoneType\n                            phoneNumber\n                        }\n                        placeOfBirth\n                        pointsEarned\n                        progressiveRegistration\n                        receiverDigest\n                        receiverNumber\n                        receiverType\n                        registrationDate\n                        registrationStatus\n                        stateOfBirth\n                        termsConditions\n                        type\n                        uid\n                        validationRequired\n                        optInReferAFriendFlag\n                        imageBinary\n                        relationshipToSender\n                        emailVerificationStatus\n                        consumerToBusinessName\n                        consumerToBusinessReference\n                        isResident\n                        annualIncome\n                        annualIncomeCurrency\n                        annualIncomeBracket\n                        subscriptions { \n                            campaignName\n                            endDate\n                            subscriptionId\n                        }\n                        receiverNationalId\n                        consumerToBusiness { \n                            name\n                            reference\n                        }\n                        partner { \n                            name\n                            terminalId\n                            partnerId\n                        }\n                        lastUpdateTimeStamp\n                        captcha { \n                            answer\n                            clearScreen\n                            image\n                            sound\n                            recaptcha\n                        }\n                        umnHash\n                        profileReconfirmation\n                        debitCardToken\n                        permanentCountry\n                        kycNotification { \n                            kycNotificationMethod\n                            kycNotificationValue { \n                                email\n                                phone\n                            }\n                            kycNotificationVendor\n                        }\n                        referralDetails { \n                            referralCode\n                            referralSite\n                        }\n                        referenceId\n                        customerDigest\n                        updateSenderAssociateFlag\n                    }\n                }\n                customerVerifyResponse { \n                    issues { \n                        field\n                        code\n                        issue\n                    }\n                    legacyError\n                    errorCode\n                    message\n                    correlationId\n                    name\n                    priority\n                }\n                captcha { \n                    answer\n                    clearScreen\n                    image\n                    sound\n                    recaptcha\n                }\n            }\n            ... on ErrorResponse {\n                correlationId\n                errorCode\n                issues { \n                    field\n                    issue\n                    code\n                    message\n                }\n                legacyError\n                message\n                name\n                priority\n                stack\n            }\n        }\n    }",convertToFixed2=function(e){return e?e.toFixed(2):e},renderStrikedFxAndFee=function(e,n,t,r,o,i,a,s,c,l,u,d,m,p,y,f,v,g,h,C,S,b,w){var _=g&&"".concat(g.split(":")[0],": "),A=null==u?void 0:u.getAttribute("data-brand-refresh");(i&&a&&s&&c||""!==A&&null!=A)&&(n=convertToFixed2(n),e=convertToFixed2(e),o=convertToFixed2(o),r&&t&&(r<=t||w<=o)?(null==s||s.classList.add("d-none"),null==b||b.classList.add("d-none"),null==c||c.classList.add("d-none"),null==l||l.classList.add("d-none"),l&&(null==d||d.classList.add("p-4")),toggleClass(i,"d-flex","d-none")):r&&t&&r>t&&(toggleClass(i,"d-none","d-flex"),null==s||s.classList.remove("d-none"),null==b||b.classList.remove("d-none"),null==c||c.classList.remove("d-none"),null==l||l.classList.remove("d-none"),null==d||d.classList.remove("p-4")),void 0!==e&&null!=n&&e<=n?(u.innerText="".concat(_," ").concat(n," ").concat(m),toggleClass(a,"d-flex","d-none"),void 0!==S&&void 0!==h&&(S.classList.add("d-none"),h.classList.add("d-none"))):void 0!==e&&void 0!==n&&e>n&&(toggleClass(a,"d-none","d-flex"),void 0!==S&&void 0!==h&&(S.classList.remove("d-none"),h.classList.remove("d-none")),u.innerHTML=g.replace("{{strikedFee}}",'<span class="font-body-xs font-weight-medium font-linethrough striked-fee text-red" style="text-decoration: line-through;">'.concat(e,"</span>")),u.innerHTML=u.innerHTML.replace("{{fee}}",'<span class="fee font-body-xs font-weight-medium current-fee">'.concat(n," ").concat(m,"</span>"))),r||(r=0),void 0!==o&&(t=o*y),r&&t&&r>=t&&(S?null!==f&&f&&(f.innerText=f.innerText.replace("{{extraMoney}}","".concat(p," ").concat((r-t).toFixed(2)))):null!==f&&f&&(f.innerText=f.innerText.replace("{{extraMoney}}","".concat((r-t).toFixed(2)," ").concat(p))),f&&f.classList.remove("d-none")),void 0!==e&&e>0&&void 0!==h&&(h.innerText=e),void 0!==n&&n>=0&&null!==n&&void 0!==C&&(C.innerText="".concat(n," ").concat(p)),void 0!==o&&null!==c&&(c.innerText=o),void 0!==e&&void 0!==n&&e>=n&&v&&(v.innerText=S?v.innerText.replace("{{feeDifference}}","".concat(m," ").concat((e-n).toFixed(2))):v.innerText.replace("{{feeDifference}}","".concat((e-n).toFixed(2)," ").concat(m)),v.classList.remove("d-none")),void 0!==o&&l&&(l.innerText=t.toFixed(2)))},resetStrikedFeeAndEl=function(e,n,t,r,o,i,a,s,c,l){e&&(e.innerText=n),t&&(t.innerText=s),r&&(r.innerText=""),l&&toggleClass(l,"d-flex","d-none"),o.innerText=c,i&&toggleClass(i,"d-flex","d-none"),a&&toggleClass(a,"d-flex","d-none")},toggleClasses=(toggleClass=function(e,n,t){e&&(e.classList.remove(n),e.classList.add(t))},function(e,n,t,r){n&&e.classList.toggle(n,null===r),t&&e.classList.toggle(t,null!==r)});function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach(function(n){_defineProperty(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _defineProperty(e,n,t){return(n=_toPropertyKey(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _slicedToArray(e,n){return _arrayWithHoles(e)||_iterableToArrayLimit(e,n)||_unsupportedIterableToArray(e,n)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function _iterableToArrayLimit(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(s.push(r.value),s.length!==n);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var n=_toPrimitive(e,"string");return"symbol"==_typeof(n)?n:n+""}function _toPrimitive(e,n){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}var calc,WUCalculator=_createClass(function e(n,t,r,o,i){var a,s=this,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,m=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,p=arguments.length>10&&void 0!==arguments[10]&&arguments[10],y=arguments.length>11&&void 0!==arguments[11]&&arguments[11];if(_classCallCheck(this,e),!("object"===_typeof(n)&&t&&r&&o&&i))throw"Constructor params required";this.elem=n,this.host=t,this.country=r,this.language=o,this.currency=i,this.session_id=c,this.isCurrConverter=l,this.default_fund_out_mnem=u||null,this.default_fund_in=d||null,this.initFXTimeout=null,this.lastTouchedInput=null,this.defaultReceiverCurrency=m,this.isCurrConverterDefaultPage=p,this.displayFxRate=DisplayFxRateParamsService.getDisplayProp("displayFxRate"),this.isCurrencyConverterUpdated=y;var f=DisplayFxRateParamsService.getDisplayProp("initialDisplayFxRate");if(this.getReceiverId="wu-input-receiver-gets-".concat(this.currency),this.initFiFoObj=FifoService.setFifo(this.default_fund_out_mnem,this.default_fund_in),this.onPageLoad=!0,this.queryParamSendAmount=!1,this.countryDropdownSelect=this.elem.querySelector(".b-flag-select__value"),this.countriesSelect=this.elem.querySelector(".countries"),this.getStartedBtnSendMoney=document.getElementById("home-send-money"),this.getStartedBtn=this.elem.querySelector("#home-get-started")||this.elem.querySelector("#corridor-get-started")||this.elem.querySelector('[data-id="button_get-started"]')||document.querySelector("#home-get-started"),this.diffFeeEl=this.elem.querySelector(".difference-fee"),this.receiverStrikedEl=this.elem.querySelector(".strikethrough-receiver-amount"),this.extraMoneyEl=this.elem.querySelector(".extraMoney"),this.strikeFxTo=this.elem.querySelector(".strike-fx-to"),this.extraMoneyParent=this.elem.querySelector("#extraMoneyParent"),this.differenceFeeParent=this.elem.querySelector("#differenceFeeParent"),this.spinnerEl=document.getElementById("spinnerContainer"),this.strikeFxToText=this.elem.querySelector(".strike-fx-to-text"),this.strikeFxFromText=this.elem.querySelector(".strike-fx-from-text"),this.extraMoneyInitValue=this.extraMoneyEl&&this.extraMoneyEl.innerText,this.diffFeeElInitValue=this.diffFeeEl&&this.diffFeeEl.innerText,!this.countriesSelect&&!this.isCurrConverter)throw"Countries select not found";if(this.sendAmountElem=this.elem.querySelector(".amount"),!this.sendAmountElem)throw"Send amount input not found";this.sendAmountElem.addEventListener("input",function(e){return e.target.setAttribute("value",e.target.value)});var v=sessionStorage.getItem("currency-converter-amount");v="undefined"===v?null===(a=this.sendAmountElem)||void 0===a?void 0:a.value:v,this.addListenerOnGetStartedBtn(),this.sendToCountry=this.handleCurrencyConverter()||this.countriesSelect.value,this.sendToCurrency=getCurrencyFromPriceCorridor(this.sendToCountry)||ISO_CODES_COUNTRIES_CURRENCIES[this.sendToCountry.toUpperCase()];var g,h=CookieService.getParsedCookieValue("userSelectedValues");if(h&&!this.isCurrConverter){var C=h;this.sendToCountry=C.Country_Selected,this.sendToCurrency=C.Currency_Selected}if(this.isCurrConverter&&v&&!this.queryParamSendAmount&&(this.sendAmountElem.value=v),this.isCurrConverter&&!this.queryParamSendAmount||sessionStorage.removeItem("currency-converter-amount"),this.setFifoValue=function(){var e,n,t=null===(e=s.elem)||void 0===e?void 0:e.getAttribute("data-fund-out-important"),r=null===(n=s.elem)||void 0===n?void 0:n.getAttribute("data-fund-in-important"),o=FifoService.getFifo(s.sendToCountry,s.isCurrConverter),i=!1;o&&"top_20_corridor"===o.type&&(i=!0),o&&o.FifoValue&&(s.fund_in=i?o.FifoValue[0]:o.FifoValue.FundsIn,s.fund_out_mnem=i?o.FifoValue[1]:o.FifoValue.FundsOut,o.FifoValue[2]=s.checkUserAmountValue()?parseInt(s.sendAmountElem.value,10):o.FifoValue[2],i?o.FifoValue[2]&&s.setSendAmountValue("".concat(o.FifoValue[2],".00")):s.prevInputValue&&s.setSendAmountValue(s.prevInputValue)),t&&(s.fund_out_mnem=t),r&&(s.fund_in=r)},this.checkUserAmountValue=function(){return s.sendAmountElem.dataset.value!=s.sendAmountElem.value&&s.sendAmountElem.dataset.value!=s.prevInputValue},this.setSendAmountValue=function(e){s.queryParamSendAmount||(s.sendAmount=e,s.sendAmountElem.value=e,s.sendAmountElem.setAttribute("value",e),e&&s.sendAmountElem.classList.add("wu-input--is-focus"))},!this.isCurrConverter&&(this.countriesSelect.onchange=function(){s.sendToCountry!==s.countriesSelect.value&&(s.sendToCountry=s.countriesSelect.value,s.sendToCurrency=getCurrencyFromPriceCorridor(s.sendToCountry)||ISO_CODES_COUNTRIES_CURRENCIES[s.sendToCountry.toUpperCase()],window.evergageMsgLoaded=!1,s.setFifoValue(),s.triggerEventForEvergage(),!window.evergageMsgLoaded&&s.initFX())}),this.getValuesFromParam=function(){var e=s.getParamFromUrl();s.getCountryFromParam=e&&s.checkReceiverCountryInUrl(["ReceiveCountry","SendAmount"]);var n=s.getCountryFromParam&&s.getCountryFromParam.ReceiveCountry&&countryCurrencyDefaults.countries.find(function(e){return e.country.isoCode.toLowerCase()===s.getCountryFromParam.ReceiveCountry.toLowerCase()}),t=CookieService.getParsedCookieValue("userSelectedValues");t&&s.setSendAmountValue(t.Amount_Selected),s.getCountryFromParam&&n&&(s.sendToCountry=n.country.isoCode,s.sendToCurrency=n.country.currencies[0].currency,s.setSendAmountValue(s.getCountryFromParam.SendAmount))},this.prevInputValue=this.sendAmountElem.value,this.setFifoValue(),this.onPageLoad&&!this.isCurrConverter&&this.getValuesFromParam(),this.onPageLoad=!1,this.sendAmountElem.onkeyup=function(){if(!+s.sendAmountElem.value)return s.handleEmptyInp("sender"),void s.changeButtonLink(s.fund_out_mnem);if(s.sendAmountElem.value&&s.prevInputValue!=s.sendAmountElem.value){if(null!=s.initFXTimeout&&clearTimeout(s.initFXTimeout),s.getStartedBtn){var e=s.getStartedBtn.getAttribute("href");s.getStartedBtn.setAttribute("href",e.replace(/(&SendAmount)[^\&]+/,"$1=".concat(s.sendAmountElem.value))),s.getStartedBtnSendMoney&&s.getStartedBtnSendMoney.setAttribute("href",e.replace(/(&SendAmount)[^\&]+/,"$1=".concat(s.sendAmountElem.value)))}if(s.isCurrencyConverterUpdated)s.receiveAmountElem.value="";else{var n=parseFloat(s.sendAmountElem.value*s.fxToElem.innerHTML.split(" ")[0]).toFixed(2);s.receiveAmountElem&&(s.receiveAmountElem.value=n)}s.changeButtonLink(s.fund_out_mnem),s.prevInputValue=s.sendAmountElem.value,s.isCurrencyConverterUpdated&&resetStrikedFeeAndEl(s.extraMoneyEl,s.extraMoneyInitValue,s.diffFeeEl,s.receiverStrikedEl,s.feeElem,s.extraMoneyParent,s.differenceFeeParent,s.diffFeeElInitValue,s.feeElemText,s.feeContainer),s.initFXTimeout=setTimeout(function(){s.initFXTimeout=null,s.sendAmount=s.sendAmountElem.value,s.initFX()},500)}},this.receiveAmountElem=document.getElementById(this.getReceiverId),this.prevReceiverValue=this.receiveAmountElem?this.receiveAmountElem.value:null,this.receiveAmountElem&&(this.receiveAmountElem.onkeyup=function(){+s.receiveAmountElem.value?(resetStrikedFeeAndEl(s.extraMoneyEl,s.extraMoneyInitValue,s.diffFeeEl,s.receiverStrikedEl,s.feeElem,s.extraMoneyParent,s.differenceFeeParent,s.diffFeeElInitValue,s.feeElemText,s.feeContainer),document.dispatchEvent(new CustomEvent("triggerReceiveAmountElem"))):s.handleEmptyInp("receiver")}),this.fxContainer=this.elem.querySelector(".fx-container"),this.feeContainer=this.elem.querySelector(".fee-container"),this.fxToElem=this.fxContainer.querySelector(".fx-to"),!this.fxContainer||!this.fxToElem)throw"FX element not found";if(this.feeContainer=this.elem.querySelector(".fee-container"),this.feeElem=this.feeContainer.querySelector(".fee"),this.feeElemText=this.feeElem.innerText,!this.feeContainer||!this.feeElem)throw"Fee element not found";this.assignSubscriptionId(),this.triggerEventForEvergage(),f?this.initFX():(this.isCurrConverterDefaultPage&&this.initFX(),this.changeButtonLink(this.fund_out_mnem)),window.addEventListener("campaignLoadedEvent",function(){clearTimeout(g),g=setTimeout(function(){s.triggerEventForEvergage()})}),window.addEventListener("campaignMessageLoaded",function(){s.initFX()})},[{key:"getParamFromUrl",value:function(){var e=window.location.search||window.location.hash;return(""===e||e.indexOf("lang")>-1||e.indexOf("evergage")>-1)&&(e=null),e}},{key:"getURLParameter",value:function(e){var n=this.getParamFromUrl(),t=n&&decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(n)||[,""])[1].replace(/\+/g,"%20"))||null;return null!=t&&(t=t.trim()),t}},{key:"checkReceiverCountryInUrl",value:function(e){var n=this,t={};return e.forEach(function(e){if(t[e]=n.getURLParameter(e),null===t[e])return null}),t}},{key:"assignSubscriptionId",value:function(){for(var e="promoCampaignSubscriptionId=",n=document.cookie.split(";"),t=0;t<n.length;t++){for(var r=n[t];" "===r.charAt(0);)r=r.substring(1);0===r.indexOf(e)&&(this.subscriptionId=r.substring(e.length,r.length))}}},{key:"triggerEventForEvergage",value:function(){var e,n,t=this,r=this.isCurrConverter?null===(e=countryCurrencyDefaults.countries.find(function(e){return e.country.isoCode===t.sendToCountry}))||void 0===e||null===(e=e.country)||void 0===e?void 0:e.name:null===(n=this.countriesSelect.options[this.countriesSelect.selectedIndex])||void 0===n?void 0:n.text;if(r){var o=new CustomEvent("countryChangeEvent",{detail:{country:{isoCode:this.sendToCountry,name:r}}});window.dispatchEvent(o)}}},{key:"handleEmptyInp",value:function(e){this.isCurrencyConverterUpdated||("receiver"===e?this.sendAmountElem.value="0":this.receiveAmountElem&&(this.receiveAmountElem.value="0"),this.renderFXText(null)),this.renderFeeText(null)}},{key:"toggleClasses",value:function(e,n,t,r){n&&e.classList.toggle(n,null===r),t&&e.classList.toggle(t,null!==r)}},{key:"renderFeeText",value:function(e){this.toggleClasses(this.feeContainer,"d-none","d-flex",e),this.toggleClasses(this.feeContainer,"","d-M-inline-flex",e),null===e||this.isCurrencyConverterUpdated||(this.feeElem.innerHTML=e.toFixed(2)+" "+this.currency.toUpperCase())}},{key:"renderFXText",value:function(e){if(this.toggleClasses(this.fxContainer,"d-none","d-inline-flex",e),e){var n=this.sendToCurrency&&(ChangeCountryCurrency[this.sendToCountry.toUpperCase()]||this.sendToCurrency.toUpperCase()),t=this.isCurrencyConverterUpdated?2:4;this.fxToElem.innerHTML=e.toFixed(t)+" "+n}}},{key:"changeButtonLink",value:function(e){var n=this.getStartedBtn.getAttribute("data-is-corridor"),t=this.getStartedBtn.getAttribute("href");if("true"!==n){var r=this.getStartedBtn?"".concat(t).split("?")[0]:null,o=WuAmerigoConfigs.isAmerigo()?[AmerigoPayOut[e],AmerigoPayIn[this.fund_in]]:[CloudPayOut[e],CloudPayIn[this.fund_in]],i=_slicedToArray(o,2),a=i[0],s=i[1],c=getParams(this.sendToCountry.toUpperCase(),this.sendToCurrency,this.sendAmountElem.value,a,s,this.language,r),l=r&&-1!==r.indexOf(uaeCheck),u=r&&"".concat(r).concat(c);this.sendAmountElem.value&&this.sendToCountry&&this.getStartedBtn&&!l?this.getStartedBtn.setAttribute("href",u):this.getStartedBtn.setAttribute("href",r),l&&this.getStartedBtnSendMoney?this.getStartedBtnSendMoney.setAttribute("href",r):this.getStartedBtnSendMoney&&this.getStartedBtnSendMoney.setAttribute("href",u)}else{var d=this.getStartedBtn.getAttribute("data-corridor-".concat(this.sendToCountry));d?this.getStartedBtn.setAttribute("href",d):this.getStartedBtn.setAttribute("href","/".concat(this.country,"/").concat(this.language,"/send-money.html?ReceiverCountry=").concat(this.sendToCountry))}}},{key:"initFX",value:function(e){var n=this;if(this.changeButtonLink(this.fund_out_mnem),this.displayFxRate||this.isCurrConverterDefaultPage){var t=_objectSpread({currency:this.currency,country:this.country,funds_in:this.fund_in,fund_out_mnem:this.fund_out_mnem,host:this.host,sendAmount:this.sendAmount,sendToCurrency:this.sendToCurrency||"GBP",subscriptionId:this.subscriptionId,sendToCountry:this.sendToCountry||"gb"},e&&{receiveAmount:e}),r=triggerPriceCatalog(t,this.isCurrencyConverterUpdated,this.isCurrencyConverterUpdated),o=window.pageData&&window.pageData.R4_COUNTRIES,i=-1!==(o=JSON.parse(o)||[]).indexOf(this.country.toUpperCase());toggleClass&&this.spinnerEl&&toggleClass(this.spinnerEl,"d-none","d-flex"),function(){if(i&&!n.isCurrencyConverterUpdated)return triggerRouterCreateSession(n.country,n.language).then(function(e){var t=e.sessionId;return e.encryptedSessionId,Promise.resolve(triggerProductApi(t,n.country,n.sendToCountry,n.language,n.sendAmount,n.fund_in,n.fund_out_mnem))});if(n.isCurrencyConverterUpdated){var e=CookieService.getCookie("wu_device_id"),t=CookieService.getCookie("userIdentity");t||CookieService.setCookie("userIdentity","newCustomer",365,location.pathname);var o={Cookie:"userIdentity="+t+"; wu_device_id="+e};return httpRequest.post(r.url,r.reqPayload,o).catch(function(e){toggleClass&&n.spinnerEl&&toggleClass(n.spinnerEl,"d-flex","d-none"),console.log("error",e)})}return httpRequest.post(r.url,r.reqPayload)}().then(function(e){toggleClass&&n.spinnerEl&&toggleClass(n.spinnerEl,"d-flex","d-none"),function(e){var t=e.strikeReceiveAmount,r=e.strike_fee,o=e.strike_fx_rate,i=e.fx,a=e.fee,s=e.receiveAmount,c=e.sendAmount;toggleClass&&n.spinnerEl&&toggleClass(n.spinnerEl,"d-flex","d-none"),"receiverAmtField"!==n.lastTouchedInput?(n.receiverAmount=s.toFixed(2),n.receiveAmountElem&&(n.receiveAmountElem.value=n.receiverAmount,n.receiveAmountElem.classList.add("wu-input--is-focus"))):"receiverAmtField"===n.lastTouchedInput&&(n.sendAmount=c.toFixed(2),n.sendAmountElem&&(n.sendAmountElem.value=n.sendAmount)),n.lastTouchedInput=null,n.renderFXText(i),n.isCurrencyConverterUpdated&&renderStrikedFxAndFee(r,a,t,s,o,n.extraMoneyParent,n.differenceFeeParent,n.strikeFxToText,n.strikeFxTo,n.receiverStrikedEl,n.feeElem,n.receiveAmountElem,n.currency,n.sendToCurrency,n.sendAmount,n.extraMoneyEl,n.diffFeeEl,n.feeElemText,void 0,void 0,void 0,n.strikeFxFromText,i&&i.toFixed(2)),n.renderFeeText(a)}((i&&!n.isCurrencyConverterUpdated?e:r.initApi(e))||{fx:null,fee:null,receiveAmount:0,sendAmount:0})}).catch(function(e){toggleClass&&n.spinnerEl&&toggleClass(n.spinnerEl,"d-flex","d-none"),console.log("error",e)})}}},{key:"handleQueryParam",value:function(){var e=window.location.search.substr(1),n=e&&e.split("&")[0]&&e.split("&")[0].split("=");"sendAmount"===n[0]&&(this.sendAmountElem.value=this.sendAmount=n[1]),"sendAmount"===n[0]&&(this.queryParamSendAmount=!0)}},{key:"handleCurrencyConverter",value:function(){var e=this.elem.querySelector("#default-receiver-currency"),n=window.location.pathname.split("-"),t=this.isCurrConverterDefaultPage?this.defaultReceiverCurrency.toUpperCase():n[n.length-2]&&n[n.length-2].toUpperCase();if(this.isCurrConverter&&t){e&&e.setAttribute("data-default-receiver-currency-name",t),!this.isCurrConverterDefaultPage&&this.handleQueryParam();var r=this.elem.querySelector("span[title=".concat(t.toUpperCase(),"]")),o=this.elem.querySelector(".currency-select-dropdown .wu-input-currency-text,.currency-selects-dropdown .wu-input-currency-text");o&&(o.textContent=t);var i=r&&r.getAttribute("data-countrycode");if(i){var a=this.elem.querySelector(".currency-select-dropdown .wu-flag,.currency-selects-dropdown .wu-flag");return a&&a.classList.add(i.toLowerCase()),i}if(this.isCurrencyConverterUpdated&&e&&e.getAttribute("data-default-receiver-country"))return e.getAttribute("data-default-receiver-country");for(var s in ISO_CODES_COUNTRIES_CURRENCIES)if(ISO_CODES_COUNTRIES_CURRENCIES[s]===t)return s}}},{key:"addListenerOnGetStartedBtn",value:function(){var e=this;this.getStartedBtn&&this.getStartedBtn.addEventListener("click",function(n){var t={Country_Selected:e.sendToCountry,Currency_Selected:e.sendToCurrency,Amount_Selected:e.sendAmountElem.value};CookieService.setCookie("userSelectedValues",JSON.stringify(t),365,location.pathname)})}}]);document.addEventListener("countrylist",function(){console.log("Country list is generated");try{for(var e=document.querySelectorAll(".calculator"),n=document.getElementById("default-receiver-currency"),t=n?n.getAttribute("data-default-receiver-currency-name"):null,r=0;r<e.length;r++){var o=e[r].classList.contains("cc-updated-calculator"),i="rodeo"===CookieService.getCookie("homePageExperience")||"true"===getUrlParameter("enableRodeoExperience");if(!o||i){var a=!(!document.querySelector("section.currency-converter-updated")||!e[r].closest(".currency-converter-updated")),s="true"===e[r].getAttribute("data-other-than-cc"),c=/\/currency-converter\/.+\.html$/.test(window.location.pathname)||/\/currency-converter-(.)*.html/.test(window.location.pathname)||a||s,l=(!c&&window.location.pathname.indexOf("/currency-converter"),!!((/\/currency-converter.html/.test(window.location.pathname)||/\/currency-converter-v2.html/.test(window.location.pathname))&&t||a||s));c=l||c,calc=new WUCalculator(e[r],e[r].getAttribute("data-host")||"https://www.westernunion.com/",e[r].getAttribute("data-country")||"au",e[r].getAttribute("data-language")||"en",e[r].getAttribute("data-currency")||"AUD",e[r].getAttribute("data-session-id"),c,e[r].getAttribute("data-fund-out-mnem")||"DB",e[r].getAttribute("data-fund-in")||"PL",t,l,a)}}}catch(e){console.error("WUCalculator",e)}});var WuAmerigoConfigs=function(){var e=document.getElementById("amerigo_settings"),n=e&&JSON.parse(e.innerHTML),t=stringExists(location.href,["www.westernunion.com","www2.westernunion.com"]);return{isAmerigo:function(){return n&&n.is_amerigo},getChannel:function(){return n&&n.channel},getClient:function(e){return n&&(t?n["PROD_".concat(e)]:n["UAT_".concat(e)])},getTopCountries:function(){return n&&n.amerigo_top_countries}}}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach(function(n){_defineProperty(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _defineProperty(e,n,t){return(n=_toPropertyKey(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _toPropertyKey(e){var n=_toPrimitive(e,"string");return"symbol"==_typeof(n)?n:n+""}function _toPrimitive(e,n){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}var DisplayFxRateParamsService=function(){var e,n={initialDisplayFxRate:!0,displayFxRate:!0,displaySendAmount:!0,displayNoCountryOnDropdown:!0};return{getDisplayProp:function(n){return e[n]},getDisplayParams:function(){return e},setDisplayParams:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e||(e=_objectSpread(_objectSpread(_objectSpread({},n),t),r))}}}(),triggerGetLimits=function(e,n,t){var r="".concat(t.host,"wudgtsrvs/mobiliser/rest/channel/GwpGetLimits?timestamp=").concat((new Date).getTime()),o={channel:{device_identifier:"RESPONSIVE_WEB",is_responsive:"true",name:"Western Union",type:"WEB",version:"9Z00"},payment_details:{origination:{currency_iso_code:e.currency,country_iso_code:e.country},destination:{currency_iso_code:n.currency,country_iso_code:n.country}},external_reference_no:"1",security:{session:{id:null!=t&&t.sessionId?null==t?void 0:t.sessionId:"web-73f3b8f8-79f3-4dcc-b472-fd5fd0311d59"},client_ip:null!=t&&t.clientIp?null==t?void 0:t.clientIp:"003211047057",version:"2"}};return fetch(r,{headers:t.headers,body:JSON.stringify(o),method:"POST"}).then(function(e){return e.json()})},getlimitAPI=function(e,n,t,r,o,i,a){var s=triggerCreateSession(i,a,location.host);try{httpRequest.post(s.createSessionurl,s.reqPayload,{"Content-type":"application/json"}).then(function(i){var a,s,c=null!=i&&null!==(a=i.security)&&void 0!==a&&a.client_ip?i.security.client_ip:"245024209201",l=null==i||null===(s=i.security)||void 0===s?void 0:s.session.id;if(c&&l){var u={headers:{accept:"application/json, text/plain, */*","Content-Type":"application/json","accept-language":"en-US,en;q=0.9"},host:getHttpRequestUrl("".concat(window.location.origin,"/")),sessionId:l,clientIp:c};triggerGetLimits(e,n,u).then(function(e){var n;if("C1561"===(null==e||null===(n=e.error)||void 0===n?void 0:n.code))console.error("error from trigger Limit API ");else{var i,a=(null==e||null===(i=e.transaction_limits)||void 0===i?void 0:i.pay_in_transaction_limit).find(function(e){return e.pay_in===CloudPayIn[r]&&e.service_code===t});if(void 0!==a){var s=Number(a.limit)/100;o.setAttribute("data-send-up-to-amount-limit",s.toFixed(2))}}}).catch(function(e){console.error("error from trigger Limit API  : ",e)})}})}catch(e){console.error("error from trigger Session API  : ",e)}return!1},ip=document.querySelectorAll(".wu-input");/complete|interactive|loaded/.test(document.readyState)?stat():window.addEventListener("DOMContentLoaded",stat);for(var i=0;i<ip.length;i++)ip[i].addEventListener?(ip[i].addEventListener("change",stat),ip[i].addEventListener("blur",stat)):ip[i].attachEvent&&(ip[i].attachEvent("change",stat),ip[i].attachEvent("blur",stat));function stat(){ip=document.querySelectorAll(".wu-input");for(var e=0;e<ip.length;e++)ip[e].setAttribute("value",ip[e].getAttribute("data-value")),""!=ip[e].value?ip[e].classList.add("wu-input--is-focus"):""==ip[e].value&&ip[e].classList.remove("wu-input--is-focus")}var iFrameLink=function(){var e=document.getElementById("iframe_links");if(e){var n=-1!==location.href.indexOf("https://www.westernunion.com")?"prod":"uat",t=JSON.parse(e.innerHTML),r=document.getElementById("wuIframe");r.src=t[n].link,r.width=t[n].width+"%",r.height=t[n].height+"px"}}(),triggerPriceCorridorList=function(e,n){try{var t=e.toUpperCase(),r=n.toUpperCase(),o=getHttpRequestUrl("".concat(window.location.origin,"/")),i="".concat(o,"wuconnect/rest/api/v1.0/price/corridors/").concat(t,"/").concat(r),a={partnerId:"R3WEB9Z00"};return{initPriceCorridorApi:function(){return new Promise(function(e){httpRequest.get(i,a).then(function(n){e(n)})})}}}catch(e){console.warn("Error in price corridor api",e)}},FifoService=function(){var e,n={},t={},r=!0;function o(){var e=window.location.search||window.location.hash;return r=!1,(""===e||e.indexOf("lang")>-1)&&(e=null),e}function i(){var e=document.getElementById("corridor_countries")?document.getElementById("corridor_countries").innerHTML:null;return"[]"===e?null:e}function a(e,n){for(var t in e)if(e.hasOwnProperty(t)&&e[t]===n)return t;return null}function s(e){var n={};return["FundsOut","FundsIn"].forEach(function(e){n[e]=function(e){var n=o(),t=n&&decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(n)||[,""])[1].replace(/\+/g,"%20"))||null;return t&&(t=t.trim()),t}(e)}),n.FundsIn=a(CloudPayIn,n.FundsIn),n.FundsOut=a(CloudPayOut,n.FundsOut),n}function c(){return n}function l(e){var n,t=(n=i())&&JSON.parse(n),r=t&&t[e.toLowerCase()];if(r)return r}function u(e,n){var r,o,i;switch(e){case"page_level":t.FifoValue=c();break;case"top_20_corridor":t.FifoValue=l(n),void 0===t.FifoValue&&(t.FifoValue=c(),t.type="page_level");break;case"query_param":t.FifoValue=s();break;default:t.FifoValue=(r=n,o={},i=fifoDefaults.find(function(e){return e.isoCode.toLowerCase()===r.toLowerCase()}),o.FundsIn=a(CloudPayIn,i.fundsIn),o.FundsOut=a(CloudPayOut,i.fundsOut),o)}return t}function d(n){var a;return u((a=i(),r&&!e&&o()?t.type="query_param":a&&0!==a.length?t.type="top_20_corridor":null==a||0==a.length?t.type="page_level":t.type="smo_config",t.type),n)}return{setFifo:function(e,t){return function(e,t){return n.FundsOut=e,n.FundsIn=t,n}(e,t)},getFifo:function(n,t){return e=t,d(n)}}}();!function(){try{var e=document.querySelectorAll("[data-wu-modal-v2-trigger]"),n=function(e,n,t){e.addEventListener("click",function(e){if("rodeo"===CookieService.getCookie("homePageExperience")&&t){var r=e.target.getAttribute("href");if("true"===e.target.getAttribute("data-scroll-top")&&window.scrollTo(0,0),r&&"#"!==r&&sendMoneyLink&&sendMoneyLink.setParam(r),"signUpModal"===e.target.getAttribute("data-wu-modal-v2-trigger")){var o=new CustomEvent("signupLoadJs");document.dispatchEvent(o)}e.preventDefault(),e.target.setAttribute("href","#"),e.currentTarget.getAttribute("class").includes("signUpClose")||(n.classList.toggle("d-flex"),n.classList.toggle("d-none"))}})};e&&e.forEach(function(e){var t=e.getAttribute("data-wu-modal-v2-trigger"),r=e.getAttribute("data-logged-in-scenario"),o=document.querySelector("[data-wu-modal-content=".concat(t,"]"));if(t&&o)if("true"===r){var i=window.sessionStorage.getItem("AccountNumber");n(e,o,!i)}else n(e,o,!1)})}catch(e){console.error("error in modal trigger : ",e)}}();var registerModal=function(e){if("registerModal"===e.variation||"qrCodeModal"===e.variation){var n=document.getElementById("signupModalMain"),t=document.getElementById("qrCodeModalMain"),r="registerModal"===e.variation?n.getAttribute("data-idle-timeout"):t.getAttribute("data-idle-timeout"),o=0,i=CookieService.getCookie("signupOpened");n&&r>0&&inactivityTime(r,function(){if(0===o){var r=new CustomEvent("signupLoadJs");document.dispatchEvent(r),CookieService.setCookie("signupOpened",!0),o++}var a=window.sessionStorage.getItem("AccountNumber"),s=CookieService.getCookie("userIdentity");s||(CookieService.setCookie("userIdentity","newCustomer"),s=CookieService.getCookie("userIdentity"));var c=CookieService.getCookie("signupClosed"),l=CookieService.getCookie("qrCodeClosed");if(!a&&"newCustomer"===s){"registerModal"!==e.variation||c||i?"qrCodeModal"!==e.variation||l||t.classList.toggle("d-flex"):n.classList.toggle("d-flex");var u=document.getElementById("currencydropdown");u&&"block"===u.style.display&&(u.style.display="none"),void 0!==window.logPopUpEvent&&window.logPopUpEvent()}})}};!function(){try{var e=document.getElementById("signupModalMain");if(!e)return;var n=e.getAttribute("data-disable-evergage");registerModal(n&&"Y"==n?{variation:"registerModal"}:{})}catch(e){console.error(e)}}();var evb_success_title=document.querySelector(".evb-s-title");if(Boolean(evb_success_title))var getQueryParameterByName=function(e){var n=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(n);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null},verifyEmail=function(){try{var e=document.querySelector(".evb-s-text"),n=document.querySelector(".evb-f-title"),t=document.querySelector(".evb-f-text"),r=document.querySelector(".evb-e-title"),o=document.querySelector(".evb-e-text"),i=document.querySelector(".evb-spinner");getQueryParameterByName("env"),i&&i.classList.remove("d-none");var a=getQueryParameterByName("accountNumber"),s=generateUniqueID(),c={accountNumber:a,otp:getQueryParameterByName("token"),flow:getQueryParameterByName("flow")},l=window.location.hostname,u="https://".concat(l,"/wuconnect/auth/v1/factors/verify");fetch(u,{method:"POST",headers:{"Content-type":"application/json","x-wu-accountNumber":a,"x-wu-externalRefId":s,"x-wu-correlationId":s},body:JSON.stringify(c)}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){i&&i.classList.add("d-none"),console.error(e)}).then(function(a){i&&i.classList.add("d-none"),a&&a.status?"FAILURE"===a.status?n&&t&&(n.classList.replace("d-none","d-flex"),t.classList.remove("d-none")):"SUCCESS"===a.status?evb_success_title&&e&&(evb_success_title.classList.replace("d-none","d-flex"),e.classList.remove("d-none")):r&&o&&(r.classList.replace("d-none","d-flex"),o.classList.remove("d-none")):r&&o&&(r.classList.replace("d-none","d-flex"),o.classList.remove("d-none"))})}catch(e){console.log(e)}},generateUniqueID=function(){var e=(new Date).getTime(),n="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=16*Math.random();return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(n+r)%16|0,n=Math.floor(n/16)),("x"===t?r:3&r|8).toString(16)})};var ocr_callback_success_msg=document.querySelector(".ocrcb-s-text"),ocr_callback_failure_msg=document.querySelector(".ocrcb-f-text");if(Boolean(ocr_callback_success_msg)||Boolean(ocr_callback_failure_msg)){getQueryParameterByName=function(e){var n=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(n);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null};var ocrCallback=function(){var e=getQueryParameterByName("acquisitionStatus");e&&"success"===e.toLowerCase()?ocr_callback_success_msg&&ocr_callback_success_msg.classList.remove("d-none"):ocr_callback_failure_msg&&ocr_callback_failure_msg.classList.remove("d-none")}}var loadFeatures=function(){window.loadCurrencyDropdown&&window.loadCurrencyDropdown(),window.mobAccordionMenu&&window.mobAccordionMenu(),window.intializeTable&&window.intializeTable(),window.statFlag&&window.statFlag(),window.verifyEmail&&window.verifyEmail(),window.ocrCallback&&window.ocrCallback(),window.reciverCurrency&&window.reciverCurrency()};/complete|interactive|loaded/.test(document.readyState)?loadFeatures():window.addEventListener("load",loadFeatures);var triggerCreateSession=function(e,n,t){var r="https://".concat(t,"/wudgtsrvs/mobiliser/rest/channel/GwpCreateSession");try{return{createSessionurl:r,reqPayload:{channel:{device_identifier:"RESPONSIVE_WEB",is_responsive:"true",name:"Western Union",type:"WEB",version:"9Z00"},device:{id:"",type:"WEB"},external_reference_no:"1",locale:{country_code:e,language_code:n},security:{client_ip:"245024209201",requestHeader:[{key:"feature",value:"staging"}]}}}}catch(e){console.warn("Error in create session service",e)}},getCurrentDatetime=function(){var e=new Date,n=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),t=e.getTimezoneOffset();return new Date(e.getTime()-60*t*1e3).toISOString().split("T")[0]+" "+n},createSessionMethod=function(e,n,t){var r=triggerCreateSession(e,n,t),o=r.createSessionurl,i=r.reqPayload;return httpRequest.post(o,i,{"Content-type":"application/json"})},triggerGetCaptcha=function(e){var n="https://".concat(e.host,"/wuconnect/rest/api/v1.0/GetCaptcha");try{var t,r,o={channel:{device_identifier:"RESPONSIVE_WEB",is_responsive:"true",name:"Western Union",type:"WEB",version:"9Z00"},security:{client_ip:null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.security)&&void 0!==t&&t.client_ip?e.response.security.client_ip:"245024209201",session:{id:null==e||null===(r=e.response)||void 0===r||null===(r=r.security)||void 0===r?void 0:r.session.id}}};httpRequest.post(n,o,null==e?void 0:e.header).then(function(n){n.error?e.errorCallBack(n,e):e.successCallBack(n,e)})}catch(n){e.errorCallBack(n,e),console.warn("Error in captcha service",n)}};function checkDevice(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}var undefinedCheck=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return[].concat(n).reduce(function(e,n){return Boolean(e)&&Boolean(n)},!0)},validateService=function(e,n){var t=e.target.validity.valid,r=undefinedCheck(e.target)?e.target.parentElement:"",o=undefinedCheck(e.target.parentElement)?e.target.parentElement.parentElement:"",i=matchPattern(undefinedCheck(e.target.value)?e.target.value:"",n),a=undefinedCheck(e.target)?e.target.id:"",s=!1;(a.includes("zip")||a.includes("mtcn")||a.includes("middleName"))&&(s=!0),s?0===e.target.value.length||t&&i?(r.classList.remove("wu-input__error"),o.classList.remove("reqValidate")):(r.classList.add("wu-input__error"),o.classList.add("reqValidate")):t&&i?r.classList.remove("wu-input__error"):r.classList.add("wu-input__error")};function matchPattern(e,n){var t=!1;return{text:/^(?! )(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-|\.)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-ZÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ .]*(['-][a-zA-ZÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ .]*){0,2}$)(?=(.*[a-zA-ZÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ.]){2}.*$)^[a-zA-ZÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ '-.]{0,}\S$/,address:/[\s\S]*/,select:/[\s\S]*/,zip:/(?=^([a-zA-Z\d]{2}))(?!0{3,5})[A-Za-z0-9 -]{3,10}$/,webaddress:/^(https?:\/\/)?(www\.)?([a-zA-Z0-9]+(-?[a-zA-Z0-9])*\.)+[\w]{2,}(\/\S*)?$/,search:/^(?! )(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-|\.)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-ZÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ .]*(['-][a-zA-ZÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ .]*){0,2}$)(?=(.*[a-zA-ZÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ.]){2}.*$)^[a-zA-ZÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ '-.]{0,}\S$/,email:/^(\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$)/,number:/^(?!(.)\1+$)^(|[0-9]{7,})$/,mtcn:/^[\d]{10}$/,countryCode:/^[+0-9A-Z\(\)]{6,8}$/,date:/^(\d{4})\-(\d{2})\-(\d{2})$/,decimal:/^-?[0-9]+(\.[0-9]{0,2}){0,1}$/,alphanumeric:/(?!.*( )\1{1})^[0-9a-zA-Z ]+$/,captcha:/^[0-9a-zA-Z ]{6}$/,textarea:/[\s\S]*/}[n].test(e)&&(t=!0),t}var sectionsArray=[!1,!1,!1,!1,!1,!1];function validateAll(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=!0,t=1;t<=6;t++){if(!validateSection("toggle".concat(t),"continueButton_".concat(t),"click",!1,e)){n=!1,sectionsArray[t-1]=!1,validateSection("toggle".concat(t),"continueButton_".concat(t),"click",!1,e);break}}return n}function toggleField(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=document.querySelector("[".concat(e,'="').concat(n,'"]'));if(o){var i=o.parentElement.classList,a=o.parentElement.parentElement.classList;i&&a&&(t?(o.value="",i.remove("wu-input__error"),a.add("d-none"),a.remove("reqValidate")):(a.remove("d-none"),r&&a.add("reqValidate")))}}function validateSection(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=undefinedCheck(e)?String(e):"",a=undefinedCheck(i)?Number(i[i.length-1]):"",s=undefinedCheck(n)?String(n):"",c=undefinedCheck(s)?Number(s[s.length-1]):"",l=!0,u=document.getElementById("".concat(e)),d=document.getElementById("".concat(n)),m="".concat(i.slice(0,-1)).concat(String(a+1)),p="".concat(s.slice(0,-1)).concat(String(c+1));if(undefinedCheck(d)&&undefinedCheck(u)){var y=d.parentElement.parentElement.parentElement;if(undefinedCheck(y)){var f=y.querySelectorAll(".reqValidate");if(undefinedCheck(f.length)&&"click"===t)for(var v=0;v<f.length;v++){var g=f[v].querySelectorAll('input:not([type="file"]), select');undefinedCheck(g.length)&&g.forEach(function(e){var n=e.getAttribute("data-type");undefinedCheck(e.value.trim())&&e.validity.valid&&matchPattern(e.value,n)?e.parentElement.classList.remove("wu-input__error"):(e.parentElement.classList.add("wu-input__error"),l=!1)})}var h=y.querySelectorAll('[type="file"]');if(undefinedCheck(h.length)&&"click"===t){var C=h[0].id.slice(0,-3),S="".concat(C,"_Label");if(undefinedCheck(attachmentData[C])){if("claimform"!=o)if(undefinedCheck(attachmentData[C].data)&&undefinedCheck(attachmentData[C].fileName)){var b=document.getElementById("".concat(S));b&&b.classList.remove("wu-input__error")}else{var w=document.getElementById("".concat(S));w&&w.classList.add("wu-input__error"),l=!1}else if(undefinedCheck(attachmentData[C].binary)&&undefinedCheck(attachmentData[C].file_name)){var _=document.getElementById("".concat(S));_&&_.classList.remove("wu-input__error")}}else if("claimform"!=o){var A=document.getElementById("".concat(S));A&&A.classList.add("wu-input__error"),l=!1}else attachmentData[C]={file_name:"",binary:"",format:""}}if(l&&"click"===t){sectionsArray[a-1]=!0;var I=document.getElementById("section_title_".concat(a));if(I&&I.classList.remove("text-danger"),u.checked?u.checked=!u.checked:u.checked=u.checked,a<=5){var E=document.getElementById("".concat(m)),L=document.getElementById("".concat(p));if(undefinedCheck(E)&&undefinedCheck(L)){sectionsArray[a]||r&&(validateSection(m,p,"clickcall"),L.parentElement.parentElement.parentElement.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}))}}else window.scrollTo(0,0)}else if(!sectionsArray[a-1]){var P=document.getElementById("section_title_".concat(a));P&&P.classList.add("text-danger"),u.checked?u.checked=u.checked:(u.checked=!u.checked,y.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}))}}}return l}var attachmentData={};function fileWidget(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=document.getElementById(e+"_"+n),i=document.getElementById("imgPreview_"+e),a=document.getElementById("FW_Con_"+e),s=document.getElementById("FW_Edit_"+e),c=o.files[0],l=c.name.split(".")[1].toLowerCase(),u=c.size,d=parseFloat(u/1048576).toFixed(2),m=document.getElementById("pdfPreview_"+e),p=document.getElementById("editOpt_"+e),y=document.getElementById(e+"_Label"),f=parseFloat(u/1024).toFixed(2);if(c&&["png","jpg","jpeg","pdf"].indexOf(l)>-1&&f>10&&d<10){var v=new FileReader;v.onload=function(n){"pdf"==l?(i.classList.add("d-none"),m.classList.remove("d-none"),m.innerHTML=c.name,m.setAttribute("title",c.name)):(m.classList.add("d-none"),i.classList.remove("d-none"),i.src=URL.createObjectURL(c),a.classList.add("opac-0")),s.classList.remove("d-none");var t=v.result.replace("data:","").replace(/^.+,/,"");attachmentData[e]="claimform"===r?{file_name:c.name,binary:t,format:l}:{fileName:c.name,data:t}},document.querySelectorAll(".setOverflowVisCont").forEach(function(e){e.style.overflow="hidden"}),p.classList.add("d-none"),y.classList.remove("wu-input__error"),o.value="",v.readAsDataURL(c)}else y.classList.add("wu-input__error")}function showEditOption(e,n){var t=document.getElementById("editOpt_"+e);if(t.classList.toggle("d-none"),checkDevice()){var r=document.getElementById("setOverflowVisCont_"+n);t.classList.contains("d-none")?r.style.overflow="hidden":r.style.overflow="visible"}}function removeDocument(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=document.getElementById("imgPreview_"+e),r=document.getElementById("FW_Edit_"+e),o=document.getElementById("editOpt_"+e),i=document.getElementById("pdfPreview_"+e),a=document.getElementById("FW_Con_"+e);r.classList.add("d-none"),o.classList.add("d-none"),t.classList.add("d-none"),t.src="",i.classList.add("d-none"),i.innerHTML="","claimform"==n?(attachmentData[e].file_name="",attachmentData[e].binary="",attachmentData[e].format=""):(attachmentData[e].fileName="",attachmentData[e].data=""),a.classList.remove("opac-0"),document.querySelectorAll(".setOverflowVisCont").forEach(function(e){e.style.overflow="hidden"})}var manageHomeExperiences=function(e){var n=e.detail;switch((null==n?void 0:n.variation)||CookieService.getCookie("homePageExperience")){case"priceVariantB":case"seasonalPriceVariantB":priceComponent(n);break;case"rodeo":window.showHomePageRodeoExp&&(showHomePageRodeoExp(),showCCSendMoneyConfigure(n));break;case"registerModal":case"qrCodeModal":registerModal(n)}};document.addEventListener("evergageValidateHomeComponent",manageHomeExperiences),function(){var e=document.querySelector(".sample_gcr_form"),n=document.getElementById("rmo-form"),t=document.getElementById("carf-form"),r=document.getElementById("addBank"),o=document.getElementById("whatsappOptin"),i=document.getElementById("fullRegistration"),a=document.getElementById("mrBeastMain"),s=document.getElementById("mrBeastReceiver"),c=document.getElementById("mrBeastSuccess");if(Boolean(t)||Boolean(n)||Boolean(e)||Boolean(r)||Boolean(o)||Boolean(i)||Boolean(a)||Boolean(s)||Boolean(c)){var l=new CustomEvent("formLoadEvent");document.dispatchEvent(l)}}();var mainClaimSection=document.getElementById("main_claim_section");if(Boolean(mainClaimSection)){var createSession=function(){var e=mainClaimSection.querySelector("#Country_code").getAttribute("data-set"),n=mainClaimSection.querySelector("#Language_code").getAttribute("data-set"),t=triggerCreateSession(e,n,current_hostname);openClose(claimSpinner,"remove","d-none"),httpRequest.post(t.createSessionurl,t.reqPayload,header).then(function(e){null!=e&&e.error?showCommonErrorMessageWithCloseSpinner():(sessionValue=e,"Y"===show_captcha_feature?createCaptchaAPI(e,current_hostname):openClose(claimSpinner,"add","d-none"))}).catch(function(e){showCommonErrorMessageWithCloseSpinner()})},showCommonErrorMessageWithCloseSpinner=function(){openClose(errorMsg,"remove","d-none"),openClose(claimSpinner,"add","d-none")},findChildElementUsingIDAndClass=function e(n,t,r,o){return r&&(r[t].includes(n)?o.push(r):null!=r&&r.children&&r.children.length>1?Array.from(r.children).forEach(function(r){e(n,t,r,o)}):null!=r&&r.children&&1==r.children.length&&e(n,t,r.children[0],o)),o[0]},createCaptchaAPI=function(e,n){triggerGetCaptcha({response:e,host:n,header:header,successCallBack:successCallBack,errorCallBack:errorCallBack})},successCallBack=function(e,n){var t;catchaResponse=e;var r=null==e||null===(t=e.captcha)||void 0===t?void 0:t.image;findChildElementUsingIDAndClass("captcha_img","id",captchaMainContainer.children[0],[]).setAttribute("src","data:image/png;base64,".concat(r)),openClose(claimSpinner,"add","d-none"),openClose(captchaMainContainer,"remove","d-none")},errorCallBack=function(e,n){var t=findChildElementUsingIDAndClass("api-failed-message","className",errorContainer,[]);openClose(claimSpinner,"add","d-none"),openClose(t,"remove","d-none"),t.children[0].children[0].innerHTML=e&&e.error&&e.error.message?e.error.message:e||""},openClose=function(e,n,t){(null==e?void 0:e.classList)&&e.classList[n](t)},refreshCaptcha=function(){var e,n;openClose(errorMsg,"add","d-none"),null!==(e=sessionValue)&&void 0!==e&&null!==(e=e.security)&&void 0!==e&&null!==(e=e.session)&&void 0!==e&&e.id&&current_hostname&&null!==(n=sessionValue)&&void 0!==n&&null!==(n=n.security)&&void 0!==n&&n.client_ip?(openClose(claimSpinner,"remove","d-none"),createCaptchaAPI(sessionValue,current_hostname)):createSession()},listenCaptcha=function(){var e=findChildElementUsingIDAndClass("claim-msg-fail","className",errorContainer,[]);openClose(e,"add","d-none");try{var n="data:audio/wav;base64,".concat(catchaResponse.captcha.sound),t=new Audio(n);t.load(),t.play()}catch(n){openClose(e,"remove","d-none")}},validateNumericInput=function(e,n){"decimal"!=n?isNaN(Number(e.data))?e.target.value=e.target.value.replace(e.data,""):validateService(e,n):isNaN(Number(e.data))?e.target.value=e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1"):validateService(e,n)},promptDetails=function(e){var n=e.target;if(n&&n.value){n.parentElement.classList.remove("wu-input__error");var t=n[n.selectedIndex].id.split("."),r="";"agerestriction"===n.name.split(".")[0]?(r="agerestriction.parentfullname",t.includes("No")?toggleField("name",r,!1,!0):toggleField("name",r)):"typeofservice"===n.name.split(".")[0]?(r="operationmtcnnumber",t.includes("moneytransfer")?toggleField("name",r,!1,!1):toggleField("name",r)):"documenttype"===(null==n?void 0:n.name.split(".")[0])&&(r="documentnumber",t.includes("id")||t.includes("IdentityCard")||t.includes("alien")||t.includes("Ptp/Cpp")?setMaxLengthandType(t.includes("id")||t.includes("IdentityCard")?8:12,"number",r):(t.includes("Passport")||t.includes("Ruc"))&&setMaxLengthandType(t.includes("Ruc")?11:12,"alphanumeric",r))}else n.parentElement.classList.add("wu-input__error")},setMaxLengthandType=function(e,n,t){var r=document.querySelector('[name="'.concat(t,'"]'));r&&(r.value="",r.setAttribute("maxLength",e),r.dataset.type=n)},validateUserInput=function(e){"number"===e.target.dataset.type&&isNaN(Number(e.data))?e.target.value=e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1"):validateService(e,e.target.dataset.type)},claimFormSubmit=function(e){e.preventDefault(),openClose(errorMsg,"add","d-none");var n=!0;if("Y"===show_captcha_feature){var t=captchaMainContainer.querySelector("#captcha_input_bx");n=t&&t.value}if(validateAll("claimform")&&n){var r,o={claimform:{name:{fullname:"",parentfullname:"",paternalname:"",maternalname:"",email:"",agerestriction:"",department:""},address:{address:"",district:"",province:"huy"},mobile:{cellphone:"",telephone:""},claimreason:{claimnumber:"",claimresponse:"",reason:"",applicationdetail:""},claimdocument:{documenttype:"",documentnumber:"",filename:"",serviceType:"",order:"",dateofregistry:"",mtcn:""},amount:{currency:"",claimamount:""},attachment:attachmentData.filename},security:{session:{id:""},captcha:{answer:""}}},i=mainClaimSection.querySelector("#form-section-ClaimantInformation");if(i){var a=i.querySelectorAll('input:not([type="file"]), select');a&&a.length&&a.forEach(function(e){if(e){var n=e.value.trim();e.id.includes("fullname")?o.claimform.name.fullname=n:e.id.includes("paternalname")?o.claimform.name.paternalname=n:e.id.includes("maternalname")?o.claimform.name.maternalname=n:e.id.includes("email")?o.claimform.name.email=n:e.id.includes("agerestriction")?o.claimform.name.agerestriction=n:e.id.includes("department")?o.claimform.name.department=n:e.id.includes("address")?o.claimform.address.address=n:e.id.includes("district")?o.claimform.address.district=n:e.id.includes("province")?o.claimform.address.province=n:e.id.includes("documenttype")?o.claimform.claimdocument.documenttype=n:e.id.includes("documentnumber")?o.claimform.claimdocument.documentnumber=n:e.id.includes("claimresponse")?o.claimform.claimreason.claimresponse=n:e.id.includes("cellphone")?o.claimform.mobile.cellphone=n:e.id.includes("telephone")&&(o.claimform.mobile.telephone=n),e.id.includes("parentfullname")&&(o.claimform.name.parentfullname=n)}})}var s=mainClaimSection.querySelector("#form-section-Identification");if(s){var c=s.querySelectorAll('input:not([type="file"]), select');c&&c.length&&c.forEach(function(e){if(e){var n=e.value.trim();e.id.includes("typeofservice")?o.claimform.claimdocument.serviceType=n:e.id.includes("currency")?o.claimform.amount.currency=n:e.id.includes("claimamount")?o.claimform.amount.claimamount=n:e.id.includes("operationmtcnnumber")&&(o.claimform.claimdocument.mtcn=n)}})}var l=mainClaimSection.querySelector("#form-section-RequestDetail");if(l){var u=l.querySelectorAll('input:not([type="file"]), select, textarea');u&&u.length&&u.forEach(function(e){if(e){var n=e.value.trim();e.id.includes("reason")?o.claimform.claimreason.reason=n:e.id.includes("applicationdetail")?o.claimform.claimreason.applicationdetail=n:e.id.includes("order")&&(o.claimform.claimdocument.order=n)}})}o.claimform.claimdocument.dateofregistry=getCurrentDatetime(),o.security.session.id=null===(r=sessionValue)||void 0===r||null===(r=r.security)||void 0===r||null===(r=r.session)||void 0===r?void 0:r.id,"Y"===show_captcha_feature&&(o.security.captcha.answer=captchaMainContainer.querySelector("#captcha_input_bx").value),getAPIResponse(o)}else!n&&displayCaptchaAlert()},displayCaptchaAlert=function(e){var n,t,r,o,i,a,s=captchaMainContainer.children[1],c=findChildElementUsingIDAndClass("captcha_input_bx","id",s,[]),l=findChildElementUsingIDAndClass("wrong_captcha_error","id",s,[]),u=findChildElementUsingIDAndClass("wrong_captcha_api_error","id",s,[]);null!=c&&null!==(n=c.value)&&void 0!==n&&n.trim()&&null!=c&&null!==(t=c.validity)&&void 0!==t&&t.valid&&matchPattern(c.value,"captcha")&&(null==e||null===(r=e.error)||void 0===r||!r.message)?(null!=c&&null!==(o=c.parentElement)&&void 0!==o&&o.classList.remove("wu-input__error"),l.classList.add("d-none")):(null!=c&&null!==(i=c.parentElement)&&void 0!==i&&i.classList.add("wu-input__error"),l.classList.remove("d-none")),null!=e&&null!==(a=e.error)&&void 0!==a&&a.message?(u.innerHTML=e.error.message,l.classList.add("d-none"),c.value=""):u.innerHTML=""},getAPIResponse=function(e){var n=findChildElementUsingIDAndClass("claim-msg-success","className",errorContainer,[]),t=document.getElementById("button-submit-claimForm");openClose(claimSpinner,"remove","d-none"),openClose(errorMsg,"add","d-none");var r="https://".concat(current_hostname,"/wudgtsrvs/mobiliser/rest/channel/GwpSubmitClaimForm");httpRequest.post(r,e,header).then(function(e){var r;openClose(claimSpinner,"add","d-none"),e.error?null!=e&&null!==(r=e.error)&&void 0!==r&&r.code?mappedErrorCode(e):openClose(errorMsg,"remove","d-none"):(t&&t.click(),claim_form_exists&&clearFormData(claim_form_exists),openClose(n,"remove","d-none"))}).catch(function(e){showCommonErrorMessageWithCloseSpinner()})},clearFormData=function(e){e.reset(),attachmentData={},"Y"===show_captcha_feature&&refreshCaptcha()},mappedErrorCode=function(e){["C5127","C9999"].indexOf(e.error.code)>-1&&("C5127"===e.error.code?(displayCaptchaAlert(e),createCaptchaAPI(e,current_hostname)):(showGenericMessage(),createSession()))},showGenericMessage=function(){openClose(errorMsg,"remove","d-none")},changeClass=function(){mainClaimSection.querySelectorAll(".setOverflowVisCont").forEach(function(e){e.style.overflow="hidden"})},claim_form_exists=mainClaimSection.querySelector(".sample_claim_form"),claimSpinner=mainClaimSection.querySelector(".gcr-form-wu-spinner"),errorContainer=mainClaimSection.querySelector(".main-error-block"),captchaMainContainer=mainClaimSection.querySelector("#main_captcha_container"),errorMsg="",current_hostname=window.location.host;window.sessionValue="",window.catchaResponse="";var show_captcha_feature=null,header={"Content-type":"application/json"},loadDefaultValues=function(){show_captcha_feature=mainClaimSection.querySelector("#show_captcha_feature").getAttribute("data-set"),createSession(),errorMsg=findChildElementUsingIDAndClass("claim-msg-fail","className",errorContainer,[])};/complete|interactive|loaded/.test(document.readyState)?loadDefaultValues():window.addEventListener("load",loadDefaultValues),document.addEventListener("click",function(e){-1==e.target.className.indexOf("editBtn_FW")&&(mainClaimSection.querySelectorAll(".editLabel_FW").forEach(function(e){e.classList.add("d-none")}),changeClass())})}var priceComponent=function(e){var n=document.querySelectorAll("#JoinNow .money-transfer-join-now"),t=document.querySelectorAll("#PriceVariantA .money-transfer-price-component"),r=document.querySelectorAll("#PriceVariantB .money-transfer-price-component2"),o=document.querySelector("#SeasonalPriceVariantB .money-transfer-price-component2"),i=document.querySelectorAll("#HeroSP .money-transfer"),a=document.querySelectorAll("#HeroSP2 .money-transfer2"),s=document.getElementById("JoinNow"),c=(document.getElementById("HeroSP"),document.getElementById("HeroSP2"),document.getElementById("PriceVariantA")),l=document.getElementById("PriceVariantB"),u=document.getElementById("SeasonalPriceVariantB"),d=(document.getElementById("PriceComponentBenefits"),CookieService.getCookie("homePageExperience")||"registration"),m=r&&r[0]&&r[0].getAttribute("data-display-status");function p(e){if(e.variation){var m,p="priceVariantA"===e.variation,y="priceVariantB"===e.variation,f="joinnow"===e.variation,v="seasonalPriceVariantB"===e.variation;"priceVariantB"===e.variation?m=l:"priceVariantA"===e.variation?m=c:"joinnow"===e.variation?m=s:"seasonalPriceVariantB"===e.variation&&(m=u);var g=m?m.querySelectorAll(".reciver-currency-select-dropdown"):null,h=g?g[0].getAttribute("data-currency"):null,C=g?g[0].getAttribute("data-country"):null;h&&C&&document.addEventListener("priceCorridorReady",function(){if(Boolean(n)||Boolean(t)||Boolean(r)||Boolean(o)){var e,g,h,C,S,b,w,_,A,I,E,L,P,k,x=function(e,n,t,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=e.sendToCountry,d=e.sendToCurrency;e.sendToCurrency=setCountryCurrencyChange(a,d);var m=triggerPriceCatalog(e,!0,!0),p=CookieService.getCookie("wu_device_id"),y={Cookie:"userIdentity="+N+"; wu_device_id="+p};httpRequest.post(m.url,m.reqPayload,y).then(function(a){var p=m.initApi(a),y=p.fx,f=p.selectedFundsOut,v=p.strike_fx_rate,g=p.selectedFundsIn,h=p.strike_fee,C=void 0===h?void 0===a.strike_fee?0:a.strike_fee:h,S=p.fee,b=p.receiveAmount,w=p.strikeReceiveAmount,_=p.payIn,A=p.serviceCode,I=r===c||r===s?document.querySelector(".receiver-Currency-Fee"):void 0,E=o.querySelector(".receiverCurrencyDrop .wu-flag"),L=E.getAttribute("data-countrycode");if(L&&o.querySelector(".receiverCurrencyDrop .wu-flag").classList.remove(L),r===c||r===l||r===u){var P=o.querySelector(".difference-fee"),k=o.querySelector(".receiver-Currency-Amount-linethrough"),x=o.querySelector(".extraMoney"),T=o.querySelector(".strike-fx-to"),N=o.querySelector("#extraMoneyParent"),D=o.querySelector("#differenceFeeParent"),O=o.querySelector(".strike-fx-to-text"),U=o.querySelector(".fee-container"),F=U.querySelector(".fee"),q=F.getAttribute("data-fee-text-inital"),B=o.querySelector(".receiver-Currency-Amount"),M=o.querySelector(".fx-container"),V=M.querySelector(".fx-to"),j=o.querySelector(".sender-amount"),G=o.querySelector(".strike-fx-from-text"),W=P&&P.getAttribute("data-fee-difference");P&&(P.innerText=W);var H=x&&x.getAttribute("data-reciver-extra-money");null!==x&&x&&(x.innerText=H),renderStrikedFxAndFee(C,S,w,b,v,N,D,O,T,k,F,B,e.currency,d,e.sendAmount,x,P,q,void 0,void 0,void 0,G);var K=b?parseFloat(b).toFixed(2):"00.00",Z=w?parseFloat(w).toFixed(2):"00.00";B&&(B.value=K),k&&(k.textContent=Z),"undefined"!=typeof renderFxRate&&"undefined"!==renderFxRate.render&&renderFxRate.render(K,Z);var $={currency:e.currency,country:e.country},z={currency:d,country:e.sendToCountry};if(i){var X=o.getAttribute("data-language");if(getlimitAPI($,z,A,_,j,e.country,X),r===c){var Y=document.querySelector(".receiver-Currency-flag");Y.classList.remove(L),Y.classList.add(e.sendToCountry.toLowerCase())}}if(r===c){var Q=I.getAttribute("data-receiver-Currency-fee");null===y&&Q>0?(I.setAttribute("data-receiver-Currency-fee",Q),y=Q):I.setAttribute("data-receiver-Currency-fee",y)}y&&(V.innerHTML=y+" "+d),M.hasAttribute("data-fx-toggle")&&(y?(toggleClass(M,"d-none","d-inline-flex"),toggleClass(M,"d-none","d-flex")):(toggleClass(M,"d-inline-flex","d-none"),toggleClass(M,"d-flex","d-none"))),b!==w?(B.classList.add("wu-input--is-focus"),toggleClass(N,"d-none","d-flex")):(toggleClass(N,"d-flex","d-none"),null==O||O.classList.add("d-none"),null==T||T.classList.add("d-none"),null==G||G.classList.add("d-none"),null==k||k.classList.add("d-none"),k&&(null==B||B.classList.add("p-4"))),S===C&&0===S&&0===C||null===S&&0===C?(toggleClass(U,"d-flex","d-none"),toggleClass(U,"d-inline-flex","d-none"),toggleClass(D,"d-flex","d-none"),null==F||F.classList.add("d-none"),F.innerText=q):void 0===C?toggleClass(D,"d-flex","d-none"):(toggleClass(U,"d-none","d-flex"),toggleClass(U,"d-none","d-inline-flex"),null==F||F.classList.remove("d-none"));var J=document.querySelector(".description-display");S>0&&J&&null!==J?J.classList.add("d-none"):0===S&&J&&null!==J&&J.classList.remove("d-none")}else{var ee=y,ne=Math.floor(ee)===ee?ee.toFixed(2):ee;!I||(I.textContent=ne);var te=document.querySelector(".receiver-Currency-Fee-linethrough"),re=v,oe=Math.floor(re)===re?re.toFixed(2):re;!te||(te.textContent=oe);var ie=document.getElementById("default-receiver-currency-linethrough");ie&&(ie.textContent=d),ee!==re&&s?(te.classList.remove("d-none"),ie.classList.remove("d-none")):ee===re&&s&&(te.classList.add("d-none"),ie.classList.add("d-none"))}E&&(E.classList.add(e.sendToCountry.toLowerCase()),E.setAttribute("data-countrycode",e.sendToCountry.toLowerCase())),!t&&s&&o.querySelector(".receiverCurrencyDrop .wu-icon-default-global").classList.add("d-none"),o.querySelector(".receiverCurrencyDrop .wu-flag").classList.remove("d-none");var ae=o.querySelector("#default-receiver-currency-code");ae&&(ae.textContent=d);var se=o.querySelector(".receiver_join_now_cta");CookieService.setCookie("lastCountry",e.sendToCountry,365),CookieService.setCookie("lastCurrency",d,365),CookieService.setCookie("lastSendAmount",e.sendAmount,30),CookieService.setCookie("lastFundsIn",CloudPayIn[g],365),CookieService.setCookie("lastFundsOut",CloudPayOut[f],365);var ce=R?CloudPayOut[f]:f,le=R?CloudPayIn[g]:g,ue="".concat(n,"?ReceiveCountry=").concat(e.sendToCountry,"&ISOCurrency=").concat(e.sendToCurrency,"&SendAmount=").concat(e.sendAmount,"&").concat(R?"FundsOut=".concat(ce,"&FundsIn=").concat(le):"funds-out=".concat(f,"&funds-in=").concat(g));se.setAttribute("href","".concat(ue))}).catch(function(e){console.error(e)})},T=function(e){var n=e.currentTarget.closest("#currencydropdown").querySelectorAll(V),t=m.querySelector("#searchInput");t&&t.onfocus(),t&&(t.value="");for(var r=0;r<=n.length-1;r++)n[r].style.display="block"},N=CookieService.getCookie("userIdentity");N||CookieService.setCookie("userIdentity","newCustomer",365,"/",!0);var D=JSON.parse(sessionStorage.getItem("GatewayCustomer")||"{}"),O={sender_firstName:null!==(e=null!==(g=null==D||null===(h=D.name)||void 0===h?void 0:h.firstName)&&void 0!==g?g:null==D||null===(C=D.name)||void 0===C?void 0:C.firstName)&&void 0!==e?e:"",sender_lastName:null!==(S=null!==(b=null==D||null===(w=D.name)||void 0===w?void 0:w.lastName)&&void 0!==b?b:null==D||null===(_=D.name)||void 0===_?void 0:_.lastName)&&void 0!==S?S:"",sender_middleName:null!==(A=null!==(I=null==D||null===(E=D.name)||void 0===E?void 0:E.middleName)&&void 0!==I?I:null==D||null===(L=D.name)||void 0===L?void 0:L.middleName)&&void 0!==A?A:"",sender_emailAddress:null!==(P=null!==(k=null==D?void 0:D.email)&&void 0!==k?k:null==D?void 0:D.email)&&void 0!==P?P:""},R=!!(O.sender_firstName&&O.sender_lastName&&O.sender_emailAddress);!(O.sender_firstName||O.sender_lastName||!O.sender_emailAddress)&&(R=!0,sessionStorage.setItem("FirstName","Hello"),sessionStorage.setItem("LastName","User")),"registeredCustomer"!==N&&"existingCustomer"!==N||(R=!0);var U=m.querySelectorAll(".reciver-currency-select-dropdown"),F=U[0].getAttribute("data-brand-refresh"),q=""!==F&&null!=F,B=m.querySelectorAll(".wuds-dropdown__search__box"),M=q?".wuds-dropdown__search__cancel__icon":".wuds-dropdown_search_currency_cancel",V=q?".wuds-dropdown__search__list .wuds-dropdown__items":".wuds-dropdown__search__list .wuds-dropdown__item",j=m.querySelectorAll(M);if(U.length>0){var G,W,H=JSON.parse(sessionStorage.getItem("app")||"{}"),K=null!==(G=null==H||null===(W=H.corridor)||void 0===W||null===(W=W.receiverCountry)||void 0===W?void 0:W.isoCode)&&void 0!==G?G:"",Z=null==H?void 0:H.senderAmountLimit;document.querySelector(".sender-amount").setAttribute("data-send-up-to-amount-limit",Z);var $="MX",z=JSON.parse(sessionStorage.getItem("transactionHistoryResp"))||JSON.parse(sessionStorage.getItem("recentTransactionHistoryResp"));if(K)$=K;else if(z&&z.length>0){var X;$=null===(X=z[0])||void 0===X||null===(X=X.paymentDetails)||void 0===X||null===(X=X.destination)||void 0===X?void 0:X.countryIsoCode}U.forEach(function(e){var n=e.querySelector(".sender-amount"),t=e.getAttribute("data-reciver-country-code"),r=!!t;t=t||$;var o=e.querySelector(".receiver_join_now_cta");o.setAttribute("data-home-page-experience",d);var i=e.getAttribute("data-language"),a={currency:e.getAttribute("data-currency"),country:e.getAttribute("data-country"),funds_in:e.getAttribute("data-fund-in"),fund_out_mnem:e.getAttribute("data-fund-out-mnem"),host:e.getAttribute("data-host"),sendAmount:n.dataset.value},s="/".concat(a.country.toLowerCase(),"/").concat(i.toLowerCase(),"/web"),c="".concat(s,"/").concat(R||"smo"===d?"send-money/start":"user/register");if(null==o||o.setAttribute("href","".concat(c)),"rodeo"===d&&(null==o||o.setAttribute("amplitude-id","button-sendmoneynow-button")),t){a.sendToCountry=t;var l=countryCurrencyDefaults.countries.find(function(e){return e.country.isoCode.toLowerCase()===t.toLowerCase()}).country.currencies.find(function(e){return e});a.sendToCurrency=getCurrencyFromPriceCorridor(t)||l.currency,x(a,c,r,m,e,!0)}n&&n.addEventListener("blur",function(e){var t=e.target.value.replace(/^\s+|\s+$/g,"");""==e.target.value||t.match(/^$/)||(e.target.value=parseFloat(t).toFixed(2),n.value=e.target.value);var r=n.getAttribute("data-send-up-to-amount-limit");parseFloat(t)>parseFloat(r)?(document.querySelector(".send-up-to-container").classList.remove("d-none"),document.querySelector(".amountlimit-error").innerText="Send Up to "+r+" "+a.currency):document.querySelector(".send-up-to-container").classList.add("d-none")}),n&&n.addEventListener("input",function(e){var t=n.getAttribute("maxLength");e.target.value.length>t&&(e.target.value=e.target.value.slice(0,t))}),n&&n.addEventListener("keyup",function(t){n.dataset.value=t.target.value,n.value=t.target.value,a.sendAmount=n.value,x(a,c,!1,m,e,!1)}),e.querySelector("#dropdownmenu").onclick=function(t){a.sendToCurrency=t.target.getAttribute("data-currencycode")||t.target.parentElement.getAttribute("data-currencycode"),a.sendToCountry=t.target.getAttribute("data-countrycode")||t.target.parentElement.getAttribute("data-countrycode"),n.dataset.value=n.dataset.value>0?n.dataset.value:1,n.value=parseFloat(n.dataset.value).toFixed(2),a.sendAmount=n.dataset.value,x(a,c,!1,m,e,!0),T(t)}}),B&&B.length>0&&B.forEach(function(e){e.addEventListener("keyup",function(e){e.target&&function(e){var n=e.currentTarget.closest("#currencydropdown").querySelectorAll(V);if(e&&e.currentTarget.value.length>0?e.currentTarget.parentElement.querySelector(M).style.display="flex":e.currentTarget.parentElement.querySelector(M).style.display="none",n&&n.length>0)for(var t=0;t<n.length;t++){var r=n[t],o=r&&r.querySelector(".b-flag-select__text").innerText;e&&e.currentTarget&&o.toUpperCase().indexOf(e&&e.currentTarget.value.toUpperCase())>-1?r.style.display="block":r.style.display="none"}}(e)})}),j&&j.length>0&&j.forEach(function(e){e.addEventListener("click",function(e){e.target&&T(e)})})}p?(t&&t[0]&&t[0].classList.remove("d-none"),r&&r[0]&&(r[0].classList.add("d-none"),l.classList.add("d-none")),n&&n[0]&&n[0].classList.add("d-none"),i&&i[0]&&i[0].classList.add("d-none"),a&&a[0]&&a[0].classList.add("d-none")):y?(t&&t[0]&&t[0].classList.add("d-none"),r&&r[0]&&(r[0].classList.remove("d-none"),l.classList.remove("d-none")),n&&n[0]&&n[0].classList.add("d-none"),i&&i[0]&&i[0].classList.add("d-none"),a&&a[0]&&a[0].classList.add("d-none")):f?(t&&t[0]&&t[0].classList.add("d-none"),r&&r[0]&&(r[0].classList.add("d-none"),l.classList.add("d-none")),n&&n[0]&&n[0].classList.remove("d-none"),i&&i[0]&&i[0].classList.add("d-none"),a&&a[0]&&a[0].classList.add("d-none")):v&&(r&&r[0]&&(r[0].classList.add("d-none"),r[0].classList.remove("d-block"),l.classList.add("d-none"),l.children[1].classList.add("d-none")),o&&o&&(o.classList.remove("d-none"),u.classList.remove("d-none")))}})}}n.length>0&&p({variation:"joinnow"}),(r.length>0||o)&&("d-block"===m&&"seasonalPriceVariantB"!==e.variation?p({variation:"priceVariantB"}):p(e))};function reciverCurrency(){var e=document.querySelectorAll(".reciver-currency-select-dropdown");if(e.length>0){e[0].getAttribute("data-currency");var n=e[0].getAttribute("data-country"),t=e[0].getAttribute("data-brand-refresh"),r=""!==t&&null!=t,o={country:e[0].getAttribute("data-country"),language:e[0].getAttribute("data-language"),host:e[0].getAttribute("data-host")};triggerCountryList(o),document.addEventListener("priceCorridorReady",function(e){var t=e.detail.dcaasResponse;try{var i=t.COUNTRY_LIST,a=t.TOP_COUNTRIES,s=countryCurrencyDefaults.countries,c=[],l=[],u=[],d=function(){if("listPath"!==m&&a[m]){var e=a[m],n=Object.values(e)[0],t=s.find(function(n){return n.country.isoCode===Object.keys(e)[0]});l.push({value:n,code:Object.keys(e)[0],currency:t.country.currencies}),c.push(n)}};for(var m in a)d();s.forEach(function(e){var t=e.country.isoCode,r=e.country.currencies,o=i[t],a=t.toLowerCase(),s=validateExceptionList(n,a);o&&s&&-1===c.indexOf(o)&&(u.push({code:t,value:o,currency:r}),flagSelectService.sortValues(u,!0))}),u.forEach(function(e){l.push({code:e.code,value:e.value,currency:e.currency})});var p=c.length,y=l;document.querySelectorAll(".reciver-currency-list").forEach(function(e){var n=document.createDocumentFragment(),t=0;y.forEach(function(e){if(void 0!==ISO_CODES_COUNTRIES_CURRENCIES[e.code]){var o=e.code.toLowerCase();e.currency.forEach(function(i){var a=i.currency.isoCode,s=document.createElement("li");s.className=r?"wuds-dropdown__items b-flag-select__item":"wuds-dropdown__item",s.setAttribute("data-currencycode",a),s.setAttribute("data-countrycode",e.code);var c=document.createElement("a");c.className=r?"wuds-dropdown__item__text w-100 d-flex text-decoration-none":"wuds-dropdown__item__text",c.setAttribute("role","menuitem"),c.setAttribute("href","javascript:void(0)"),c.setAttribute("data-currencycode",a),c.setAttribute("data-countrycode",e.code);var l=document.createElement("span");l.className=r?"wuds-dropdown__item-text b-flag-select__text w-100 overflow-hidden font-body-01 text-black d-flex align-items-center":"b-flag-select__text w-100 overflow-hidden font-body-sm",l.setAttribute("data-countrycode",e.code),l.setAttribute("title",a),l.setAttribute("data-currencycode",a),l.innerText=a+" - "+e.value,s.appendChild(c);var u=document.createElement("i");u.className="wu-flag ".concat(o,r?" wu-flagSize--S":" flag__1x1 wu-flag__rnd wu-flag__dd wu-input--flag__icon__left bdr-clr-idel bdr-thin-all bdr-radius-cir position-absolute"),r?(c.appendChild(u),c.appendChild(l)):(c.appendChild(l),c.appendChild(u)),p-1===t&&(r?s.classList.add("wuds-dropdown__bordered-item--items"):(s.classList.add("position-static"),u.classList.add("mar-xs-lt"))),n.appendChild(s)}),t++}}),e.appendChild(n)})}catch(e){console.log("Country list is empty fo ".concat(o.country,"-").concat(o.language)),console.error(e)}})}}function adjustTableHeaderHeight(){var e=document.querySelectorAll(".wuplus-table-mobile-header-container"),n=0;Array.from(e).forEach(function(e){e.removeAttribute("style"),n=Math.max(n,e.clientHeight)}),Array.from(e).forEach(function(e){e.setAttribute("style","height:".concat(n,"px"))})}!function(){try{priceComponent({})}catch(e){console.error(e)}}(),window.addEventListener("resize",adjustTableHeaderHeight),adjustTableHeaderHeight();var createRetailSessionPayload=function(e,n,t,r){var o="https://".concat(t,"/wudgtsrvs-retail/mobiliser/rest/channel/GwpCreateSession");try{return{createSessionurl:o,reqPayload:{channel:{device_identifier:"RESPONSIVE_WEB",is_responsive:"true",name:"MOB",type:"RETAIL_MOBILE",version:"9D01"},device:{id:"",type:"MOBILE"},external_reference_no:"1",locale:{country_code:e,language_code:n},security:{digital:{sessionid:r}}}}}catch(e){console.warn("Error in create retail session service",e)}},createRetailSessionMethod=function(e,n,t,r){var o=createRetailSessionPayload(e,n,t,r),i=o.createSessionurl,a=o.reqPayload;return httpRequest.post(i,a,{"Content-type":"application/json"})},zipCodeLookUpApiPayload=function(e,n,t,r){var o="https://".concat(n,"/retailpresentationservice/rest/api/v1.0/GetCityStatesByPostalCode");try{return{zipCodeApiEndpoint:o,reqPayload:{iso_address:{country_iso_code:e?e.toUpperCase():"US",postal_code:r},security:{session:{id:t},client_ip:"115114136244",requestHeader:[]}}}}catch(e){console.warn("Error in zipcode api service",e)}},ZipCodeApiLookUpMethod=function(e,n,t,r){var o=zipCodeLookUpApiPayload(e,n,t,r),i=o.zipCodeApiEndpoint,a=o.reqPayload;return httpRequest.post(i,a,{"Content-type":"application/json"})},countryISOCode="us",langCode=(CookieService.getCookie("WULanguageCookie_")||"EN").toLowerCase(),domainName=location.host,purchaserZipCodeElement=document.querySelector('form#rmo-form input[id="purchaserZip"]'),purchasedZipCodeElement=document.querySelector('form#rmo-form input[id="purchasedZip"]'),invokeDigitalSession=function(){return createSessionMethod(countryISOCode,langCode,domainName)},invokeRetailSession=function(e){return createRetailSessionMethod(countryISOCode,langCode,domainName,e)},invokeZipcodeLookUp=function(e,n){return ZipCodeApiLookUpMethod(countryISOCode,domainName,e,n)},toggleInlineAutoLoader=function(e,n){var t,r,o;e&&-1!==e.indexOf("purchased")&&(t='label[for="purchasedZip"]'),e&&-1!==e.indexOf("purchaser")&&(t='label[for="purchaserZip"]'),n&&"show"===n?null===(r=document.querySelector(t))||void 0===r||r.classList.add("add-bank-loader"):null===(o=document.querySelector(t))||void 0===o||o.classList.remove("add-bank-loader")},setFormAttributeValue=function(e,n){try{var t,r;n&&-1!==n.indexOf("purchased")&&(t='input[name="purchasedCity"]',r='input[name="purchasedState"]'),n&&-1!==n.indexOf("purchaser")&&(t='input[name="purchaserCity"]',r='input[name="purchaserState"]');var o=document.querySelector(t),i=document.querySelector(r);if(e&&e.cityStateInfoList&&e.cityStateInfoList.cityStateInfo){var a=e.cityStateInfoList.cityStateInfo[0].city,s=e.cityStateInfoList.cityStateInfo[0].state,c=e.cityStateInfoList.cityStateInfo[0].stateCode;a=a?capitalizeWords(a):a,s=s?capitalizeWords(s):s,o&&i&&(o.value=a,i.value=s,i.setAttribute("data-value",s),i.setAttribute("data-keyvalue",c))}}catch(e){console.log("".concat(e.message," on set form attribute value  !!")),toggleInlineAutoLoader(n,"hide")}},invokeLookUpAPI=function(e,n){try{invokeDigitalSession().then(function(t){var r,o=null==t||null===(r=t.security)||void 0===r?void 0:r.session.id;o&&invokeRetailSession(o).then(function(t){var r,o=null==t||null===(r=t.security)||void 0===r||null===(r=r.session)||void 0===r?void 0:r.id;o&&invokeZipcodeLookUp(o,e).then(function(e){e&&!e.error?(toggleInlineAutoLoader(n,"hide"),setFormAttributeValue(e,n)):toggleInlineAutoLoader(n,"hide")}).catch(function(e){console.error(e),toggleInlineAutoLoader(n,"hide")})}).catch(function(e){console.error(e)})}).catch(function(e){console.error(e)})}catch(e){console.error("Error on fetching API : ".concat(e.message)),toggleInlineAutoLoader(n,"hide")}},focusOutEventHandler=function(e){try{var n,t,r=null==e||null===(n=e.target)||void 0===n?void 0:n.id,o=null==e||null===(t=e.target)||void 0===t?void 0:t.value;if(!o||0===o.length||""===o)return!1;toggleInlineAutoLoader(r,"show"),invokeLookUpAPI(o,r)}catch(e){toggleInlineAutoLoader(targetID,"hide")}};purchasedZipCodeElement&&(null==purchasedZipCodeElement||purchasedZipCodeElement.addEventListener("blur",focusOutEventHandler)),purchaserZipCodeElement&&(null==purchaserZipCodeElement||purchaserZipCodeElement.addEventListener("blur",focusOutEventHandler));